webpackJsonp([14],{"+MR7":function(t,e){},"+v+z":function(t,e){},"/V3O":function(t,e){},"/cHU":function(t,e){},"/dK6":function(t,e){},"0Ysa":function(t,e){},"1Bnj":function(t,e){t.exports="data:image/jpeg;base64,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"},"2CtA":function(t,e){},"2i36":function(t,e){},"38f5":function(t,e){},"3Rrv":function(t,e){},"4ooE":function(t,e){},"6VNq":function(t,e){},"7q7g":function(t,e){},"96Sd":function(t,e){},"9GOM":function(t,e){},"9JfJ":function(t,e){},"9pLu":function(t,e){},A8Un:function(t,e){},AYZy:function(t,e){},B1pg:function(t,e){},BGqJ:function(t,e){},"CUt/":function(t,e){},DDJz:function(t,e){},ETgM:function(t,e){},FGtt:function(t,e,a){"use strict";var i={name:"organizationSelect",data:function(){return{selectData:[],rootParentId:1,selectParentId:1,selectListArray:[]}},mounted:function(){this.initComponent()},methods:{initComponent:function(){this.getDefaultList(0)},getSelectList:function(){var t=[this.rootParentId];return this.selectData.forEach(function(e){t.push(e.selected)}),this.selectListArray=t,t},getDefaultList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootParentId,a=this.selectData;if(a.length>t&&(a[t].selected=e),0==e)a.splice(t+1,a.length-t-1),this.selectParentId=t>0?a[t-1].selected:this.rootParentId,this.emitResponse();else{var i=this;this.$get({url:HP1+"/terminal/organization/children/v1",data:{parent:e}}).then(function(n){var s=[{value:0,label:"全部"}];200==n.data.code&&(n.data.info.forEach(function(t,e){s.push({value:t.id,label:t.name})}),t<a.length&&a.splice(t+1,a.length-t-1),a.push({selected:0,selectOptions:s}),a.length>1?i.selectParentId=e:i.selectParentId=i.rootParentId,i.emitResponse())})}},emitResponse:function(){this.$emit("getParentId",this.getSelectList())}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectBox",attrs:{id:"departmentBox"}},t._l(t.selectData,function(e,i){return a("el-select",{key:i,attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){t.getDefaultList(i,e.selected)}},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}},t._l(e.selectOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))}))},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("cysj")},"data-v-3701a53e",null);e.a=s.exports},GjZr:function(t,e){},Iuk6:function(t,e){},J2lt:function(t,e){},JNRc:function(t,e){},KfVI:function(t,e){},L99j:function(t,e){},LDxT:function(t,e){},LjGr:function(t,e){},MVpj:function(t,e){},MwU0:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW");var n={name:"Header",data:function(){return{user:"",curr_group:"",group:"",isShow:!1,isgroupShow:!1,isLogin:!1,href:""}},created:function(){this.href=NatrixIndex;var t=this;document.onclick=function(e){e.stopPropagation(),t.isgroupShow=!1,t.isShow=!1}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;this.$get({url:HP1+"/rbac/get/userinfo",data:{}}).then(function(e){200==e.data.code?(t.user=e.data.user,window.localStorage.setItem("user",t.user),t.curr_group=e.data.curr_group,t.group=e.data.groups,t.isLogin=!0):(t.isLogin=!1,window.localStorage.setItem("user",""))})},showInfo:function(){this.isShow=!this.isShow},showGroup:function(){this.isgroupShow=!this.isgroupShow},loginHandle:function(){this.$router.push({path:"login"})},registerHandle:function(){this.$router.push({path:"register"})},loginOut:function(){var t=this;this.$get({url:HP1+"/rbac/logout/v1",data:{}}).then(function(e){e.permission&&(200==e.data.code?(t.$message({message:e.data.message,type:"success"}),window.localStorage.setItem("user",""),window.location.href=NatrixIndex):t.$message({type:"error",message:e.data.message}))})},emptyClick:function(){document.onclick=function(t){t.stopPropagation(),this.isgroupShow=!1,this.isShow=!1}},changeGroup:function(t){var e=this;this.$post({url:HP1+"/rbac/api/change_group",data:{id:t}}).then(function(t){t.permission&&200==t.data.code&&(e.curr_group=t.data.curr_group,e.$message({message:"切换分组成功!",type:"success"}),window.location.reload())})},userInfo:function(){window.location.href=HP1+"/rbac/userinfo"}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"main-header"},[i("a",{staticClass:"logo",attrs:{href:t.href}},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),i("nav",{staticClass:"navbar navbar-static-top"},[t._m(2),t._v(" "),i("div",{staticClass:"navbar-custom-menu"},[i("ul",{staticClass:"nav navbar-nav"},[""!=this.user?i("li",{staticClass:"dropdown notifications-menu",on:{click:function(e){return e.stopPropagation(),t.showGroup(e)}}},[i("a",{staticClass:"dropdown-toggle",attrs:{href:"#"}},[i("i",{staticClass:"fa fa-group"}),t._v("\n            "+t._s(t.curr_group)+"\n          ")]),t._v(" "),t.isgroupShow?i("ul",{staticClass:"dropdown-menu"},[i("li",{staticClass:"header"},[t._v("请选择分组：")]),t._v(" "),i("li",[i("ul",{staticClass:"menu"},t._l(t.group,function(e,a){return i("li",{key:a,on:{click:function(a){t.changeGroup(e.id)}}},[i("a",{attrs:{href:"javascript:void(0);"}},[i("i",{staticClass:"fa fa-group text-aqua"}),t._v("\n                    "+t._s(e.name)+"\n                  ")])])}))])]):t._e()]):t._e(),t._v(" "),""!=this.user?i("li",{staticClass:"dropdown user user-menu",on:{click:function(e){return e.stopPropagation(),t.showInfo(e)}}},[i("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);"}},[i("img",{staticClass:"user-image",attrs:{src:a("1Bnj"),alt:"User Image"}}),t._v(" "),i("span",{staticClass:"hidden-xs"},[t._v(t._s(t.user))])]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"dropdown-menu"},[i("li",{staticClass:"user-header"},[i("img",{staticClass:"img-circle",attrs:{src:a("1Bnj"),alt:"User Image"}}),t._v(" "),i("p",[t._v(t._s(t.user))])]),t._v(" "),i("li",{staticClass:"user-footer"},[i("div",{staticClass:"pull-right"},[i("a",{staticClass:"btn btn-default btn-flat",attrs:{href:"javascript:void(0)"},on:{click:t.loginOut}},[t._v("登出")])])])])]):t._e(),t._v(" "),""==this.user?i("li",{staticClass:"dropdown user user-menu",on:{click:t.loginHandle}},[t._m(3)]):t._e(),t._v(" "),""==this.user?i("li",{staticClass:"dropdown user user-menu",on:{click:t.registerHandle}},[t._m(4)]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"logo-mini"},[e("b",[this._v("Natrix")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"logo-lg"},[e("b",[this._v("Natrix")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"sidebar-toggle",attrs:{href:"javascript:void(0);","data-toggle":"offcanvas",role:"button"}},[e("span",{staticClass:"sr-only"},[this._v("Toggle navigation")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);"}},[e("img",{staticClass:"user-image",attrs:{src:a("1Bnj"),alt:"User Image"}}),this._v(" "),e("span",{staticClass:"hidden-xs"},[this._v("登录")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);"}},[e("span",{staticClass:"hidden-xs"},[this._v("注册")])])}]};var r=a("VU/8")(n,s,!1,function(t){a("+v+z"),a("eRRr")},"data-v-cd043874",null).exports,o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"main-footer"},[e("div",{staticClass:"pull-right hidden-xs"},[e("b",[this._v("Version")]),this._v(" 0.1.0\n        ")]),this._v(" "),e("strong",{staticClass:"right"},[this._v("Copyright © 2017-2018 "),e("a",{attrs:{href:"javascript:void(0)"}},[this._v("Natrix Group")])]),this._v("  All rights reserved.\n")])}]};var l={name:"Menu",data:function(){return{data:"",defaultProps:{children:"children",label:"label"},menu:[],user:""}},mounted:function(){this.user=window.localStorage.getItem("user"),this.getMenu()},methods:{handleOpen:function(t,e){},handleClose:function(t,e){},jumpUrl:function(t,e){void 0!=e?this.$router.push({path:e}):t&&(window.location.href=HP1+t)},getMenu:function(){var t=this;this.$get_no({url:HP1+"/rbac/api/getmenu",data:{}}).then(function(e){e.menuinfo.forEach(function(t,e){t.indexValue=e,t.menus.forEach(function(e,a){e.indexValue=t.indexValue+"-"+a,e.children&&"undefined"!=e.children&&e.children.forEach(function(t,a){t.indexValue=e.indexValue+"-"+a})})}),t.menu=e.menuinfo})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu"}},t._l(t.menu,function(e,i){return a("el-menu",{key:i,staticClass:"el-menu-vertical-demo",attrs:{index:e.indexValue,"background-color":"#222d32","text-color":"#b8c7ce","active-text-color":"#b8c7ce","default-openeds":[],router:!0,"unique-opened":!0},on:{open:t.handleOpen,close:t.handleClose}},[a("h3",[t._v(t._s(e.title))]),t._v(" "),t._l(e.menus,function(e,i){return a("el-submenu",{key:i,attrs:{index:e.indexValue,"unique-opened":!0,"default-openeds":[]},nativeOn:{click:function(a){t.jumpUrl(e.url,e.path)}}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._v(" "),e.children?a("el-menu-item-group",[t._l(e.children,function(e,i){return void 0==e.path?a("el-menu-item",{key:i,attrs:{index:e.indexValue},nativeOn:{click:function(a){a.stopPropagation(),t.jumpUrl(e.url,e.path)}}},[a("i",{staticClass:"el-icon-menu"}),t._v(t._s(e.name)+"\n                ")]):t._e()}),t._v(" "),t._l(e.children,function(e,i){return void 0!=e.path?a("el-menu-item",{key:i,attrs:{index:e.path},nativeOn:{click:function(a){a.stopPropagation(),t.jumpUrl(e.url,e.path)}}},[a("i",{staticClass:"el-icon-menu"}),t._v(t._s(e.name)+"\n                ")]):t._e()})],2):t._e()],2)})],2)}))},staticRenderFns:[]};var u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"nav"}},[e("span",{staticClass:"title"},[this._v("线路监控"+this._s(this.title))]),this._v(" "),e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[this._v("首页")])],1)],1)},staticRenderFns:[]};var d={name:"App",components:{Footer:a("VU/8")({name:"Footer",data:function(){return{}}},o,!1,function(t){a("B1pg")},"data-v-a2e894ae",null).exports,Header:r,Menu:a("VU/8")(l,c,!1,function(t){a("TReZ"),a("96Sd")},"data-v-439ea3d4",null).exports,Nav:a("VU/8")({name:"Nav",data:function(){return{realList:[],title:"",brumblist:""}},created:function(){},methods:{getRoutePath:function(){this.realList=this.$route.meta.routeList[this.$route.meta.routeList.length-1]}},watch:{}},u,!1,function(t){a("cMIA"),a("/cHU")},"data-v-48f98300",null).exports},beforeCreate:function(){window.HP1="http://127.0.0.1:8000",window.NatrixIndex="",window.ManageIndex="javascript:void(0)"},data:function(){return{navPath:["/login","/register"],isShowMenu:"",isLogin:""}},created:function(){},mounted:function(){},computed:{showMenu1:function(){var t=this;return this.navPath.some(function(e){return e==t.$route.path})}},methods:{}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-mini wrapper",attrs:{id:"app"}},[t.showMenu1?t._e():a("Header"),t._v(" "),t.showMenu1?t._e():a("div",{staticClass:"clear",attrs:{id:"box"}},[a("Menu"),t._v(" "),a("div",{attrs:{id:"content"}},[a("div",{attrs:{id:"tablebox"}},[a("router-view",{attrs:{status:t.isLogin}})],1)]),t._v(" "),a("Footer")],1),t._v(" "),t.showMenu1?a("router-view"):t._e()],1)},staticRenderFns:[]};var p=a("VU/8")(d,m,!1,function(t){a("9pLu")},null,null).exports,h=a("js5j"),v=a("FGtt"),f={name:"regionSelect",props:{disabled:{type:Boolean,default:!1},provinceValue:{type:String,default:"all"},cityValue:{type:String,default:"all"}},data:function(){return{provinces:[{value:"all",label:"全部"}],cities:[{value:"all",label:"全部"}],province:this.provinceValue,city:this.cityValue}},created:function(){},mounted:function(){this.disabled||(this.initComponent(),"all"!=this.province&&this.getCityList())},methods:{initComponent:function(){this.getProvinceList(),this.emitResponse()},getProvinceList:function(){var t=this;this.$get({url:HP1+"/terminal/common/provinces/v1",data:{}}).then(function(e){200==e.data.code&&(t.provinces=[{value:"all",label:"全部"}],e.data.info.forEach(function(e,a){t.provinces.push({value:e,label:e})}))})},getCityList:function(){var t=this;this.city="",this.$post({url:HP1+"/terminal/common/cities/v1",data:{provinces:this.province.split(" ")}}).then(function(e){t.cities=[{value:"all",label:"全部"}],t.city="all",200==e.data.code&&e.data.info.forEach(function(e,a){t.cities.push({value:e,label:e})}),t.emitResponse()})},emitResponse:function(){this.$emit("selectList",[this.province,this.city])}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectBox"},[a("el-select",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请选择"},on:{change:function(e){t.getCityList()}},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinces,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请选择"},on:{change:function(e){t.emitResponse()}},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cities,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)},staticRenderFns:[]};var _=a("VU/8")(f,g,!1,function(t){a("ETgM")},"data-v-5732a134",null).exports,b=a("vwbq"),k={name:"treeChart",props:{tree_data:{type:[Object],required:!0,default:{}},parentWidth:{type:[Number],required:!0},node_option:{type:Object,default:function(){return{events:[]}}},cells_option:{type:Array,default:function(){return[{dom_class:function(t){return"normal"},get_text:function(t){return t.name?t.name:""},events:[]}]}}},data:function(){return{width:500,height:500,chart_margin:{top:20,bottom:20,left:0,right:50},node_height:100,node_width:180,cell_height:25,cell_margin:{top:5,left:10,right:10}}},mounted:function(){this.drawChart()},watch:{tree_data:{handler:function(t,e){this.eraseChart(),this.drawChart()},deep:!0},parentWidth:{handler:function(t,e){},immediate:!0}},methods:{tree_layout_set:function(t){var e=t.descendants(),a=t.leaves().length;this.height=this.node_height*a;var i=e.reduce(function(t,e){return t.depth>e.depth?t:e}).depth+1,n=2*this.node_width*i,s=this.$refs.orgTreeContainer.parentNode.clientWidth,r=0;n>s?(this.node_width=s/(2*i),r=s):r=n,this.width=r},drawChart:function(){var t=this;if(null!=this.tree_data){var e=this,a=b.a(this.tree_data,function(t){return t.children});this.tree_layout_set(a);var i=b.b("#org-tree-container").append("svg").attr("width",this.width).attr("height",this.height).attr("transform","translate("+this.chart_margin.left+", "+this.chart_margin.top+")").append("g").attr("class","root"),n=b.d().size([this.height,this.width-this.node_width])(a),s=i.append("g").selectAll("g").data(n.descendants()).join("g").attr("class","node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"}).attr("cursor","pointer");this.node_option.events.forEach(function(t){s.on(t.type,function(e){return t.handler(e.data)})}),this.cells_option.forEach(function(t,a){var i=s.append("g").attr("class",function(e){return t.dom_class(e.data)});i.append("rect").attr("width",e.node_width).attr("height",e.cell_height).attr("x",0).attr("y",e.cell_height/2*-1+a*e.cell_height),i.append("text").attr("width",e.node_width).attr("height",e.cell_height).attr("x",e.cell_margin.left).attr("y",e.cell_margin.top+a*e.cell_height).text(function(e){var a=t.get_text(e.data);return a||b.b(this).remove()}).each(function(){var t=b.b(this);e.textDisplay(t)})});b.c("text").attr("fill","#fff"),i.append("g").attr("fill","none").attr("stroke","#F7881F").attr("stroke-opacity",.4).attr("stroke-width",1.5).selectAll("path").data(a.links()).join("path").attr("d",function(e){return t.pathCaculate(e.source,e.target)})}},pathCaculate:function(t,e){var a=null;return e&&(a="M "+(t.y+this.node_width)+" "+t.x+"\n\t\t\t\t\t\t\tL "+(t.y+(e.y-t.y+this.node_width)/2)+" "+t.x+"\n\t\t\t\t\t\t\tL "+(t.y+(e.y-t.y+this.node_width)/2)+" "+e.x+"\n\t\t\t\t\t\t\tL "+e.y+" "+e.x+"\n\t\t\t\t\t"),a},textDisplay:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.node_width,a=t.node().getComputedTextLength(),i=t.text();a>e&&i.length>0;)i=i.slice(0,-3),t.text(i+"..."),a=t.node().getComputedTextLength()},eraseChart:function(){b.b("svg").remove()}}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"orgTreeContainer",attrs:{id:"org-tree-container"}})},staticRenderFns:[]};var x=a("VU/8")(k,w,!1,function(t){a("9JfJ")},null,null).exports,y={name:"treeTable",props:{tree_data:{type:[Object],default:null},branch_option:{type:Object,default:function(){return{get_text:function(t){var e="";return t.name&&(e+=t.name),e},get_class:function(t){return"normal"}}}},node_option:{type:Object,default:function(){return{get_text:function(t){var e="";return t.name&&(e+=t.name),e},get_class:function(t){return"normal"},events:{click:function(t){window.location="/"}}}}}},data:function(){return{tree_table:[],branch_width:180,node_width:120,show_list:[]}},mounted:function(){},watch:{tree_data:{handler:function(t,e){this.construct_table()},deep:!0}},methods:{construct_table:function(){if(this.tree_data&&this.tree_data.children){var t=this;this.tree_table=[],this.show_list=[],this.tree_data.children.forEach(function(e,a){t.show_list.push(a),t.tree_table.push({visible:!0,data:e,get_text:t.branch_option.get_text,get_class:t.branch_option.get_class,sites:e.children?e.children.map(function(e){return{data:e,get_text:t.node_option.get_text,get_class:t.node_option.get_class}}):null})})}else this.tree_table=[]}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix",attrs:{id:"tree-table-container"}},t._l(t.tree_table,function(e,i){return a("div",{key:i,staticStyle:{width:"180px",margin:"10px",float:"left"}},[a("el-collapse",{key:i,model:{value:t.show_list,callback:function(e){t.show_list=e},expression:"show_list"}},[a("el-collapse-item",{attrs:{title:e.get_text(e.data),name:i}},t._l(e.sites,function(e,n){return a("div",{key:n+"-"+i,staticClass:"text item"},[a("div",{on:{click:function(a){t.node_option.events.click(e.data)}}},[a("el-card",{class:e.get_class(e.data)},[t._v("\n                            "+t._s(e.get_text(e.data))+"\n                            ")])],1)])}))],1)],1)}))},staticRenderFns:[]};var A=a("VU/8")(y,C,!1,function(t){a("kmVD")},null,null).exports,T={name:"",components:{page:h.a,organizationSelect:v.a,regionSelect:_,treeChart:x,treeTable:A},data:function(){var t=this;return{href:ManageIndex,indicator:[{value:"region",label:"地域"},{value:"organization",label:"组织"}],showLevel:[1,2,3,4,5,6,7,8],filterConditionBlock:"region",filterCondition:{indicator:"region",regionList:["all","all"],organizationList:[],level:3},tree_data:{},node_option:{events:[{type:"click",handler:function(e){t.$router.push({path:"terminalList",query:{identification:e.identification,is_paginate:!0}})}}]},cells_option:[{dom_class:function(t){return t.total?t.alive==t.total?"fine":"danger":"unknown"},get_text:function(t){return t.name?t.name:""}},{dom_class:function(t){return"normal"},get_text:function(t){return void 0==t.alive||void 0==t.total?"":t.alive+" / "+t.total}}],branch_option:{get_text:function(t){var e="";return t.name&&(e+=t.name),t.total&&t.alive&&(e+="("+t.alive+"/"+t.total+")"),e},get_class:function(t){return t.total&&t.alive?t.total==t.alive?"fine":"danger":"unknown"}},table_node_option:{get_text:function(t){var e="";return t.name&&(e+=t.name),t.total&&t.alive&&(e+="("+t.alive+"/"+t.total+")"),e},get_class:function(t){return t.total&&t.alive?t.total==t.alive?"fine":"danger":"unknown"},events:{click:function(e){t.$router.push({path:"terminalList",query:{identification:e.identification,is_paginate:!0}})}}},horizon:"1",filterrules:{},parentWidth:0}},created:function(){},watch:{filterCondition:{handler:function(t,e){this.getStruction()},deep:!0},horizon:{handler:function(t,e){this.drawStruction()}},tree_data:{handler:function(t,e){this.drawStruction()},deep:!0}},mounted:function(){this.getStruction();var t=document.getElementsByClassName("areaBox")[0].clientWidth;this.parentWidth=t;var e=this;window.onresize=function(){e.parentWidth=document.getElementsByClassName("areaBox")[0].clientWidth,e.$refs.treeChart.eraseChart(),e.$refs.treeChart.drawChart()}},methods:{organizationSelectHandle:function(t){t.pop(),this.filterCondition.organizationList=t},regionSelectHandle:function(t){this.filterCondition.regionList=t},indicatroChangeHandle:function(t){this.filterConditionBlock="region"==t?"region":"organization"},getStruction:function(){var t=this,e=void 0;e="region"==this.filterCondition.indicator?this.filterCondition.regionList:this.filterCondition.organizationList,this.$get({url:HP1+"/terminal/device/overview/v1",data:{type:this.filterCondition.indicator,filter:e,show_level:this.filterCondition.level}}).then(function(e){200==e.data.code&&(e.data.info?t.tree_data=e.data.info:t.tree_data=null)})},drawStruction:function(){}},beforeDestroy:function(){window.onresize=function(){}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("终端管理——终端概览")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v(" 管理系统 "),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:""}}},[t._v("终端管理")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/terminalOverview"}}},[t._v("终端概览")])],1)],1),t._v(" "),a("div",{attrs:{id:"overviewContent"}},[a("div",{attrs:{id:"conditionPanel"}},[a("el-form",{ref:"filterCondition",staticClass:"demo-ruleForm",attrs:{model:t.filterCondition,size:"mini",rules:t.filterrules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"显示指标"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.indicatroChangeHandle},model:{value:t.filterCondition.indicator,callback:function(e){t.$set(t.filterCondition,"indicator",e)},expression:"filterCondition.indicator"}},t._l(t.indicator,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"organization"==t.filterConditionBlock,expression:"filterConditionBlock=='organization'"}],attrs:{id:"organizationBlock"}},[a("organizationSelect",{on:{getParentId:t.organizationSelectHandle}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"region"==t.filterConditionBlock,expression:"filterConditionBlock=='region'"}],attrs:{id:"regionBlock"}},[a("regionSelect",{on:{selectList:t.regionSelectHandle}})],1),t._v(" "),a("el-form-item",{attrs:{label:"显示层级"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.filterCondition.level,callback:function(e){t.$set(t.filterCondition,"level",e)},expression:"filterCondition.level"}},t._l(t.showLevel,function(t){return a("el-option",{key:t,attrs:{lable:t,value:t}})}))],1)],1)],1),t._v(" "),a("div",{attrs:{id:"showPanel"}},[a("h4",[a("span",[t._v("拓扑信息")]),t._v(" "),a("div",{staticClass:"condition"},[a("el-radio",{attrs:{label:"1"},model:{value:t.horizon,callback:function(e){t.horizon=e},expression:"horizon"}},[t._v("水平")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.horizon,callback:function(e){t.horizon=e},expression:"horizon"}},[t._v("垂直")])],1)]),t._v(" "),a("div",{attrs:{id:"structionContent"}},[a("div",{staticClass:"areaBox",attrs:{id:"structionChart"}},[a("treeChart",{directives:[{name:"show",rawName:"v-show",value:"1"==t.horizon,expression:"horizon == '1' "}],ref:"treeChart",attrs:{parentWidth:t.parentWidth,tree_data:t.tree_data,cells_option:t.cells_option,node_option:t.node_option}}),t._v(" "),a("treeTable",{directives:[{name:"show",rawName:"v-show",value:"2"==t.horizon,expression:"horizon == '2' "}],attrs:{tree_data:t.tree_data,branch_option:t.branch_option,node_option:t.table_node_option}})],1)])])])])},staticRenderFns:[]};var D=a("VU/8")(T,I,!1,function(t){a("A8Un")},"data-v-1fb01fb3",null).exports,N={name:"newOrganization",data:function(){return{selectData:[],rootParentId:1,selectParentId:1}},mounted:function(){this.getDefaultList(0)},methods:{getDefaultList:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootParentId;if(this.selectData.length>t&&(this.selectData[t].selected=a),0==a)return this.selectData.splice(t+1,this.selectData.length-t-1),this.selectParentId=t>0?this.selectData[t-1].selected:this.rootParentId,void this.$emit("getParentId",this.selectParentId);this.$get({url:HP1+"/terminal/organization/children/v1",data:{parent:a}}).then(function(i){var n=[{value:"0",label:"全部"}];200==i.data.code&&(i.data.info.forEach(function(t,e){n.push({value:t.id,label:t.name})}),t<e.selectData.length&&e.selectData.splice(t+1,e.selectData.length-t-1),e.selectData.push({selected:"0",selectOptions:n}),e.selectData.length>1?e.selectParentId=a:e.selectParentId=e.rootParentId),e.$emit("getParentId",e.selectParentId)})}},watch:{}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectBox",attrs:{id:"departmentBox"}},t._l(t.selectData,function(e,i){return a("el-select",{key:i,attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){t.getDefaultList(i,e.selected)}},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}},t._l(e.selectOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))}))},staticRenderFns:[]};var F=a("VU/8")(N,O,!1,function(t){a("bHwv")},"data-v-c7be0dc6",null).exports,L={name:"",components:{page:h.a,newOrganization:F,organizationSelect:v.a},data:function(){return{href:ManageIndex,searchWord:"",tableData:[],page_Count:1,pageNum:1,pageShow:!1,departMents:[],departMent:"",selectParentId:1,source:!0,selectParentArray:[]}},created:function(){},watch:{},mounted:function(){this.getWorkList(1)},methods:{getParentIdHandle:function(t){this.selectParentArray=t,this.selectParentId=t[t.length-2],this.pageNum=1,this.getWorkList(this.pageNum,this.source)},pageChangeHandle:function(t){this.pageNum=t,this.getWorkList(t)},addOrganization:function(){this.$router.push({path:"addWorkInfo",query:{parentId:this.selectParentId}})},getWorkList:function(t,e){var a=this;e&&(this.searchWord=""),this.$post({url:HP1+"/terminal/organization/list/v1",data:{parent:this.selectParentId,is_paginate:!0,search:this.searchWord,pagenum:t}}).then(function(t){200==t.data.code&&(a.tableData=t.data.info,a.page_Count=t.data.page_count,a.pageNum=t.data.page_num,a.pageShow=t.data.page_count>0)})},handleInfo:function(t,e){this.$router.push({path:"workDetail",query:{id:e.id}})},handleEdit:function(t,e){this.$router.push({path:"editWorkInfo",query:{id:e.id}})},handleDel:function(t,e){var a=this;e.children_num>0?this.$message({message:"当前组织存在下级组织，不能删除",type:"warning"}):this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delOperation(e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delOperation:function(t){var e=this;this.$delete({url:HP1+"/terminal/organization/v1",data:{id:t.id}}).then(function(t){200==t.data.code?(e.getWorkList(e.pageNum),e.$message({type:"success",message:t.data.message})):e.$message({type:"error",message:t.data.message})})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("组织管理——组织信息管理")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("管理系统"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:""}}},[t._v("组织管理")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/workInfoManage"}}},[t._v("组织信息管理")])],1)],1),t._v(" "),a("div",[a("h5",{staticClass:"departMentTitle"},[t._v("组织选择")]),t._v(" "),a("organizationSelect",{ref:"organizationSelect",on:{getParentId:t.getParentIdHandle}})],1),t._v(" "),a("div",{staticClass:"optionBox clear"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus",id:"addBtn"},on:{click:t.addOrganization}},[t._v("增加")]),t._v(" "),a("el-input",{staticStyle:{width:"300px",float:"right"},attrs:{id:"searchBtn",placeholder:"根据组织名称或网段模糊查询",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.getWorkList(1)}},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:function(e){t.getWorkList(1)}},slot:"append"})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"组织名称",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"nameLink",on:{click:function(a){t.handleInfo(e.$index,e.row)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"级别",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parent",label:"上级组织"}}),t._v(" "),a("el-table-column",{attrs:{prop:"children_num",width:"120",label:"下级组织数量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],attrs:{pageCount:t.page_Count},on:{"page-change":t.pageChangeHandle}})],1)},staticRenderFns:[]};var P=a("VU/8")(L,z,!1,function(t){a("ls8B"),a("BGqJ")},"data-v-11ac79f2",null).exports,S=a("woOf"),j=a.n(S),E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"instantNav"},t._l(t.navData,function(e,i){return a("span",{key:i,staticClass:"cursor",class:{active:t.activevalue==i},on:{click:function(e){t.pageRedirect(i)}}},[t._v(t._s(e)+"\n    ")])}))},staticRenderFns:[]};var $=a("VU/8")({name:"instantNav",props:["active"],data:function(){return{activevalue:this.active,navData:["PING","HTTP","Traceroute","DNS"]}},created:function(){},methods:{pageRedirect:function(t){this.activevalue=t,0==this.activevalue?this.$router.push({path:"pingAnalysis"}):1==this.activevalue?this.$router.push({path:"httpAnalysis"}):2==this.activevalue?this.$router.push({path:"tracerouteAnalysis"}):3==this.activevalue&&this.$router.push({path:"dnsAnalysis"})}},watch:{}},E,!1,function(t){a("6VNq"),a("Q7sU")},"data-v-3cade031",null).exports,H=a("mvHQ"),B=a.n(H),R=a("Dd8w"),q=a.n(R),M=["有线","无线","移动"],V=["电信","移动","联通","校园网"],U=["上海","北京","广州","深圳"],W={name:"searchBox",components:{organizationSelect:v.a,regionSelect:_},props:["active"],data:function(){return{searchValue:"",checkAllNet:!0,checkedNets:["有线","无线"],netOptions:M,isIndeterminateNet:!0,checkAllIsp:!0,checkedIsps:["电信","移动"],ispOptions:V,isIndeterminateIsp:!0,form:{filterType:1,filterCondition:this.cityList},terminal:1,pingSwitch:!1,httpSwitch:!1,dnsSwitch:!1,pingObj:{timeout:1,count:10,packet_size:55},dnsObj:{is_default:"true",timeout:10,dns_server:""},httpObj:{protocol:"HTTP1.1",timeout:600,is_redirect:!1,redirect_count:5,is_snap:!1,auth_info:null,header_info:null,body_info:null},taskId:"",taskInfo:{total:0,success:0,wrong:0,responses:0},finished:"0",timer:null,taskStatus:1,taskStatusObj:{filterWrap:!1,filterFlag:!0,resultLoading:!1,finished:"0"},protocol_type:"ping",cityList:["all","all"],organizationList:[],checkTerminalAll:!1,cities:U,isIndeterminate:!0,terminalDialogVisible:!1,terminals:[],checkedTerminals:[],terminalCount:0,terminalList:[],checkAllTerminal:!1,httpMethod:"get",httpMethodSelect:[{value:"get",label:"get"},{value:"post",label:"post"},{value:"put",label:"put"},{value:"delete",label:"delete"}],options:{mode:"text",mainMenuBar:!1,onEditable:function(t){if(!t.path)return!1},onError:function(t){alert(t.toString())},onModeChange:function(t,e){}},authEditor:null,headerEditor:null,bodyEditor:null}},created:function(){switch(this.active){case 0:this.protocol_type="ping";break;case 1:this.protocol_type="http";break;case 2:this.protocol_type="traceroute";break;case 3:this.protocol_type="dns"}},mounted:function(){1==this.active&&this.init()},watch:{finished:{handler:function(t,e){var a=this;if(1==t)switch(clearInterval(this.timer),this.taskStatus){case 1:break;case 2:this.taskStatus=1;break;case 3:break;case 4:this.taskStatus=3;break;case 5:break;case 6:this.taskStatus=5}else this.timer=setInterval(function(t){a.getTaskStatus()},5e3)}},taskStatus:function(t,e){switch(t){case 1:case 2:this.taskStatusObj={filterWrap:!1,filterFlag:!0,resultLoading:!this.finished,finished:this.finished};break;case 3:this.taskStatusObj={filterWrap:!0,filterFlag:!0,resultLoading:!1,finished:"0"};break;case 4:this.taskStatusObj={filterWrap:!0,filterFlag:!0,resultLoading:!this.finished,finished:this.finished};break;case 5:this.taskStatusObj={filterWrap:!0,filterFlag:!1,resultLoading:!1,finished:"0"};break;case 6:this.taskStatusObj={filterWrap:!0,filterFlag:!1,resultLoading:!this.finished,finished:this.finished}}},"form.filterType":function(t,e){t!=e&&(this.terminal=1,this.checkedTerminals=[],this.checkAllTerminal=!1)},httpSwitch:function(t,e){this.options=1==t?{mode:"code",mainMenuBar:!1}:{mode:"text",mainMenuBar:!1,onEditable:function(t){if(!t.path)return!1}};for(var a=document.getElementById("jsonEditorBox").getElementsByClassName("jsoneditor"),i=0;i<a.length;i++)a[i].remove();document.getElementById("headerBox").getElementsByClassName("jsoneditor")[0].remove(),this.authEditor=null,this.headerEditor=null,this.bodyEditor=null,this.init()}},methods:{handleCheckAllChange:function(t){this.checkedNets=t?M:[],this.isIndeterminateNet=!1},handleCheckedNetChange:function(t){var e=t.length;this.checkAllNet=e===this.checkedNets.length,this.isIndeterminateNet=e>0&&e<this.netOptions.length},isphandleCheckAllChange:function(t){this.checkedIsps=t?V:[],this.isIndeterminateIsp=!1},handleCheckedIspChange:function(t){var e=t.length;this.checkAllIsp=e===this.checkedIsps.length,this.isIndeterminateIsp=e>0&&e<this.ispOptions.length},upHandle:function(){switch(this.taskStatus){case 1:case 2:break;case 3:this.taskStatus=5;break;case 4:this.taskStatus=6;break;case 5:this.taskStatus=3;break;case 6:this.taskStatus=4}},downHandle:function(){switch(this.taskStatus){case 1:case 2:break;case 3:this.taskStatus=5;break;case 4:this.taskStatus=6;break;case 5:this.taskStatus=3;break;case 6:this.taskStatus=4}},changeFilterDisplay:function(){switch(this.taskStatus){case 1:this.taskStatus=3;break;case 2:break;case 3:this.taskStatus=1;break;case 4:break;case 5:this.taskStatus=1}},getParentIdHandle:function(t){this.form.filterCondition=this.organizationList,this.organizationList=t,this.getTerminalCount(),this.getTerminalList()},getCityHandle:function(t){this.cityList=t,this.getTerminalCount(),this.getTerminalList()},createTask:function(){var t=this;this.getHttpJson();var e=void 0,a=void 0,i=void 0,n=[],s=null,r=!1;switch(this.active){case 0:r=this.pingSwitch,s=this.pingSwitch?this.pingObj:null;break;case 1:r=this.httpSwitch,s=this.httpSwitch?this.httpObj:null;break;case 2:r=!1;break;case 3:r=this.dnsSwitch,s=this.dnsSwitch?this.dnsObj:null}1==this.form.filterType?(e="region",a=this.cityList):(e="organization",a=this.organizationList),1==this.terminal?(i=!1,n=[]):(i=!0,n=[],this.checkedTerminals.forEach(function(t,e){n.push(t.value)}));var o={filter_type:e,filter_condition:a,network_type:["all"],isp_type:["all"],terminal_select:i,terminals:n};this.taskStatusObj.filterWrap||(o=null);var l={protocol_type:this.protocol_type,destination:this.searchValue,advanced_switch:this.taskStatusObj.filterWrap,terminal_configuration:o,protocol_switch:r,protocol_configuration:s};"http"==this.protocol_type&&(l={protocol_type:this.protocol_type,http_method:this.httpMethod,destination:this.searchValue,advanced_switch:this.taskStatusObj.filterWrap,terminal_configuration:o,protocol_switch:r,protocol_configuration:s}),this.$post({url:HP1+"/benchmark/instant/task/v1",data:l}).then(function(e){200==e.data.code?(t.taskId=e.data.info.task_id,t.$emit("getTaskStatus",{finished:t.finished,taskId:t.taskId}),t.getTaskStatus()):t.$message({type:"error",message:e.data.message})})},getTaskStatus:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/status/v1",data:{task_id:this.taskId}}).then(function(e){if(200==e.data.code)switch(t.taskInfo=q()({},e.data.info),t.finished=t.taskInfo.finished,t.$emit("getTaskStatus",{finished:t.finished,taskId:t.taskId}),t.taskStatus){case 1:t.taskStatus=2;break;case 2:break;case 3:t.taskStatus=6;break;case 4:break;case 5:t.taskStatus=6}else t.$message({type:"error",message:e.data.message})})},stopTask:function(){var t=this;this.$put({url:HP1+"/benchmark/instant/status/v1",data:{task_id:this.taskId}}).then(function(e){if(200==e.data.code)switch(t.taskInfo=q()({},e.data.info),t.finished=e.data.info.finished,t.$emit("getTaskStatus",{finished:t.finished,taskId:t.taskId}),t.taskStatus){case 1:break;case 2:t.taskStatus=1;break;case 3:break;case 4:t.taskStatus=3;break;case 5:break;case 6:t.taskStatus=5}})},showTerminalDialog:function(){this.terminalDialogVisible=!0},getTerminalList:function(){var t=this;this.$post({url:HP1+"/terminal/common/terminals/list/v1",data:{type:1==this.form.filterType?"region":"organization",is_classify:!0,filter_condition:1==this.form.filterType?this.cityList:this.organizationList}}).then(function(e){200==e.data.code&&(t.terminalList=[],t.terminals=e.data.info,t.terminals.forEach(function(e,a){e.terminals.forEach(function(e,a){t.terminalList.push(e)})}))})},getTerminalCount:function(){var t=this;this.$post({url:HP1+"/terminal/common/terminals/count/v1",data:{type:1==this.form.filterType?"region":"organization",filter_condition:1==this.form.filterType?this.cityList:this.organizationList}}).then(function(e){200==e.data.code?t.terminalCount=e.data.info.alive:t.$message({message:e.data.message,type:"error"})})},terminalhandleCheckAllChange:function(t){this.checkedTerminals=t?this.terminalList:[],this.isIndeterminate=!1},handleCheckedTerminalsChange:function(t){var e=t.length;this.checkAllTerminal=e===this.terminalCount,this.isIndeterminate=e>0&&e<this.terminalCount},confirmHandle:function(){this.terminalDialogVisible=!1},initEditor:function(t,e){return new JSONEditor(t,this.options)},getHttpJson:function(){null!=this.authEditor&&(this.httpObj.auth_info=B()(this.authEditor.get()),this.httpObj.header_info=B()(this.headerEditor.get()),this.httpObj.body_info=B()(this.bodyEditor.get()))},init:function(){if(null==this.authEditor){var t=document.getElementById("authBox");this.authEditor=this.initEditor(t,this.options)}if(null==this.headerEditor){var e=document.getElementById("headerBox");this.headerEditor=this.initEditor(e,this.options)}if(null==this.bodyEditor){var a=document.getElementById("bodyBox");this.bodyEditor=this.initEditor(a,this.options)}}},destroyed:function(){clearInterval(this.timer)}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"searchBar",attrs:{id:"searchBox"}},[1==t.active?a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:t.httpMethod,callback:function(e){t.httpMethod=e},expression:"httpMethod"}},t._l(t.httpMethodSelect,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入url",size:"medium"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium",disabled:t.taskStatusObj.resultLoading},on:{click:t.createTask}},[t._v("检测一下")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium",disabled:t.taskStatusObj.resultLoading},on:{click:t.changeFilterDisplay}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.taskStatusObj.filterWrap,expression:"!taskStatusObj.filterWrap"}],staticClass:"icon iconfont icon-kaiqi1"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.taskStatusObj.filterWrap,expression:"taskStatusObj.filterWrap"}],staticClass:"icon iconfont icon-kaiqi2"}),t._v("\n      高级\n    ")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskStatusObj.filterWrap,expression:"taskStatusObj.filterWrap"}],staticClass:"filterWrap"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.taskStatusObj.filterFlag,expression:"!taskStatusObj.filterFlag"}],staticClass:"upTip"},[t._v("过滤条件选择")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskStatusObj.filterFlag,expression:"taskStatusObj.filterFlag"}],attrs:{id:"filterBox"}},[a("div",{staticClass:"terminalbox filterContainer"},[t._m(0),t._v(" "),a("ul",{staticClass:"filterList"},[a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("过滤方式：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-radio-group",{model:{value:t.form.filterType,callback:function(e){t.$set(t.form,"filterType",e)},expression:"form.filterType"}},[a("el-radio",{attrs:{label:1}},[t._v("地域选择")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("组织选择")])],1)],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("过滤条件：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[1==t.form.filterType?a("regionSelect",{on:{selectList:t.getCityHandle}}):t._e(),t._v(" "),2==t.form.filterType?a("organizationSelect",{on:{getParentId:t.getParentIdHandle}}):t._e()],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("网络选择：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-checkbox",{model:{value:t.checkAllNet,callback:function(e){t.checkAllNet=e},expression:"checkAllNet"}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.handleCheckedNetChange},model:{value:t.checkedNets,callback:function(e){t.checkedNets=e},expression:"checkedNets"}},t._l(t.netOptions,function(e){return a("el-checkbox",{key:e,attrs:{label:e,disabled:""}},[t._v(t._s(e))])}))],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("ISP选择：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-checkbox",{model:{value:t.checkAllIsp,callback:function(e){t.checkAllIsp=e},expression:"checkAllIsp"}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.handleCheckedIspChange},model:{value:t.checkedIsps,callback:function(e){t.checkedIsps=e},expression:"checkedIsps"}},t._l(t.ispOptions,function(e){return a("el-checkbox",{key:e,attrs:{label:e,disabled:""}},[t._v(t._s(e))])}))],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("终端选择：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-radio-group",{model:{value:t.terminal,callback:function(e){t.terminal=e},expression:"terminal"}},[a("el-radio",{attrs:{label:1}},[a("span",[t._v("全部")])]),t._v(" "),a("el-radio",{attrs:{label:2}},[a("span",{on:{click:t.showTerminalDialog}},[t._v("特定终端")])])],1),t._v(" "),a("span",{staticClass:"terminalCount"},[t._v("存在"+t._s(t.terminalCount)+"个终端")])],1)])])]),t._v(" "),a("div",{staticClass:"agreement filterContainer"},[0==t.active?a("div",[a("h4",{staticClass:"filterTitle"},[a("span",[t._v("协议配置")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.pingSwitch,callback:function(e){t.pingSwitch=e},expression:"pingSwitch"}})],1),t._v(" "),a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间(s)：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入超时时间",disabled:!t.pingSwitch},model:{value:t.pingObj.timeout,callback:function(e){t.$set(t.pingObj,"timeout",e)},expression:"pingObj.timeout"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("发送次数(次)：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入发送次数",disabled:!t.pingSwitch},model:{value:t.pingObj.count,callback:function(e){t.$set(t.pingObj,"count",e)},expression:"pingObj.count"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("数据包（字节）：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入大小",disabled:!t.pingSwitch},model:{value:t.pingObj.packet_size,callback:function(e){t.$set(t.pingObj,"packet_size",e)},expression:"pingObj.packet_size"}})],1)])])]):t._e(),t._v(" "),1==t.active?a("div",[a("h4",{staticClass:"filterTitle"},[a("span",[t._v("协议配置")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.httpSwitch,callback:function(e){t.httpSwitch=e},expression:"httpSwitch"}})],1),t._v(" "),a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("协议选择：")]),t._v(" "),a("el-radio",{attrs:{label:"HTTP1.1",disabled:!t.httpSwitch},model:{value:t.httpObj.is_default,callback:function(e){t.$set(t.httpObj,"is_default",e)},expression:"httpObj.is_default"}},[t._v("HTTP1.1")])],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间（s)：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入超时时间",disabled:!t.httpSwitch},model:{value:t.httpObj.timeout,callback:function(e){t.$set(t.httpObj,"timeout",e)},expression:"httpObj.timeout"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("允许重定向：")]),t._v(" "),a("el-switch",{attrs:{disabled:!t.httpSwitch,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.httpObj.is_redirect,callback:function(e){t.$set(t.httpObj,"is_redirect",e)},expression:"httpObj.is_redirect"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("最大重定向数：")]),t._v(" "),a("el-input",{attrs:{disabled:!t.httpSwitch||!t.httpObj.is_redirect,placeholder:"请输入数量",type:"number",size:"mini"},model:{value:t.httpObj.redirect_count,callback:function(e){t.$set(t.httpObj,"redirect_count",e)},expression:"httpObj.redirect_count"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("页面快照：")]),t._v(" "),a("el-switch",{attrs:{disabled:!t.httpSwitch,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.httpObj.is_snap,callback:function(e){t.$set(t.httpObj,"is_snap",e)},expression:"httpObj.is_snap"}})],1)]),t._v(" "),a("div",{staticClass:"clear",attrs:{id:"jsonEditorBox"}},[a("div",{staticClass:"fl item"},[a("h4",{staticClass:"title"},[t._v("\n                  认证(Authorization)\n                  "),a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("目前，仅支持basic类型的安全验证."),a("br"),t._v("basic类型，格式如下:"),a("br"),t._v("\n                    {\n                      'auth_type': 'basic',\n                      'auth_user': '{username}:{password}'\n                    }")]),t._v(" "),a("span",{staticClass:"el-icon-question"})])],1),t._v(" "),a("div",{attrs:{id:"authBox"}})]),t._v(" "),t._m(1),t._v(" "),t._m(2)])])]):t._e(),t._v(" "),3==t.active?a("div",[a("h4",{staticClass:"filterTitle"},[a("span",[t._v("协议配置")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.dnsSwitch,callback:function(e){t.dnsSwitch=e},expression:"dnsSwitch"}})],1),t._v(" "),a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("DNS设置：")]),t._v(" "),a("el-radio",{attrs:{label:"true",disabled:!t.dnsSwitch},model:{value:t.dnsObj.is_default,callback:function(e){t.$set(t.dnsObj,"is_default",e)},expression:"dnsObj.is_default"}},[t._v("默认")]),t._v(" "),a("el-radio",{attrs:{label:"false",disabled:!t.dnsSwitch},model:{value:t.dnsObj.is_default,callback:function(e){t.$set(t.dnsObj,"is_default",e)},expression:"dnsObj.is_default"}},[t._v("自定义")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入IP地址",disabled:"true"==t.dnsObj.is_default},model:{value:t.dnsObj.dns_server,callback:function(e){t.$set(t.dnsObj,"dns_server",e)},expression:"dnsObj.dns_server"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间(s)：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入超时时间",disabled:!t.dnsSwitch},model:{value:t.dnsObj.timeout,callback:function(e){t.$set(t.dnsObj,"timeout",e)},expression:"dnsObj.timeout"}})],1)])])]):t._e()])]),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.taskStatusObj.filterFlag,expression:"!taskStatusObj.filterFlag"}],staticClass:"icon iconfont icon-xiangxiajiantou",on:{click:t.downHandle}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.taskStatusObj.filterFlag,expression:"taskStatusObj.filterFlag"}],staticClass:"icon iconfont icon-xiangshangjiantou",attrs:{id:"upIcon"},on:{click:t.upHandle}})]),t._v(" "),a("div",{staticClass:"clear",attrs:{id:"resultWrap"}},[a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.taskStatusObj.resultLoading,expression:"taskStatusObj.resultLoading"}],staticClass:"clear",attrs:{id:"resultBox"}},[a("li",{staticClass:"clear"},[a("i",{staticClass:"icon iconfont icon-xiafashuju"}),t._v(" "),a("div",{staticClass:"iconContent"},[a("strong",[t._v(t._s(this.taskInfo.total))]),t._v(" "),a("span",[t._v("下发数量")])])]),t._v(" "),a("li",{staticClass:"clear"},[a("i",{staticClass:"icon iconfont icon-responseOrder"}),t._v(" "),a("div",{staticClass:"iconContent"},[a("strong",[t._v(t._s(this.taskInfo.responses))]),t._v(" "),a("span",[t._v("响应数量")])])]),t._v(" "),a("li",{staticClass:"clear"},[a("i",{staticClass:"icon iconfont icon-wuuiconxuan"}),t._v(" "),a("div",{staticClass:"iconContent"},[a("strong",[t._v(t._s(this.taskInfo.success))]),t._v(" "),a("span",[t._v("正确响应")])])]),t._v(" "),a("li",{staticClass:"clear"},[a("i",{staticClass:"icon iconfont icon-cuowu"}),t._v(" "),a("div",{staticClass:"iconContent"},[a("strong",[t._v(t._s(this.taskInfo.wrong))]),t._v(" "),a("span",[t._v("错误响应")])])])]),t._v(" "),a("div",{attrs:{id:"stop"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.taskStatusObj.resultLoading,expression:"taskStatusObj.resultLoading"}],attrs:{size:"medium"},on:{click:t.stopTask}},[t._v("结束")])],1)]),t._v(" "),a("div",{attrs:{id:"terminalDialog"}},[a("el-dialog",{attrs:{title:"终端选择",visible:t.terminalDialogVisible},on:{"update:visible":function(e){t.terminalDialogVisible=e}}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.terminalhandleCheckAllChange},model:{value:t.checkAllTerminal,callback:function(e){t.checkAllTerminal=e},expression:"checkAllTerminal"}},[t._v("全选")]),t._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),t._l(t.terminals,function(e,i){return a("div",{key:i,staticClass:"clear terminalItem"},[a("span",{staticClass:"fl cityName"},[t._v(t._s(e.name))]),t._v(" "),a("el-checkbox-group",{staticClass:"fl cityList",on:{change:t.handleCheckedTerminalsChange},model:{value:t.checkedTerminals,callback:function(e){t.checkedTerminals=e},expression:"checkedTerminals"}},t._l(e.terminals,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e}},[t._v(t._s(e.name))])}))],1)})],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"filterTitle"},[e("span",[this._v("终端配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl item"},[e("h4",{staticClass:"title"},[this._v("头部(headers)")]),this._v(" "),e("div",{attrs:{id:"headerBox"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl item"},[e("h4",{staticClass:"title"},[this._v("主体(Body)")]),this._v(" "),e("div",{attrs:{id:"bodyBox"}})])}]};var Q=a("VU/8")(W,G,!1,function(t){a("xVrp"),a("am6W")},"data-v-4c212410",null).exports,Y={name:"errorinfoTable",props:{tableData:{type:Array,required:!0,default:[]}},data:function(){return{}},created:function(){},mounted:function(){},methods:{handleInfo:function(){}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"terminal",label:"终端",width:"125"}}),t._v(" "),a("el-table-column",{attrs:{label:"组织",width:"125"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.organizations,function(e,i){return a("div",{key:i},[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("名称: "+t._s(e))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag",attrs:{size:"medium"}},[t._v(t._s(e))])],1)])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",width:"100",label:"市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"100",label:"运营商"}}),t._v(" "),a("el-table-column",{attrs:{prop:"errorinfo",label:"错误信息"}})],1)],1)},staticRenderFns:[]};var J=a("VU/8")(Y,K,!1,function(t){a("DDJz"),a("uoz7")},"data-v-02b36d62",null).exports,X={name:"natrixLineChart",props:{chart_data:{type:Object,required:!0,validator:function(t){return void 0!=t.title&&(void 0!=t.title.text&&(void 0!=t.xAxisName&&(void 0!=t.yAxisName&&void 0!=t.viewpoints)))}},chart_style:{type:Object,required:!1}},data:function(){return{subtext:"数据来自Natrix",lineChart:null}},mounted:function(){this.drawChart(this.chart_data),window.addEventListener("resize",this.resizeHandle)},watch:{chart_data:{handler:function(t,e){this.drawChart(t)},deep:!0}},methods:{drawChart:function(t){var e=this,a=[],i=[],n=t["x-axis"],s=n[0]?n[0]:0,r=void 0==t.precision?2:t.precision;function o(t){if("number"==typeof t)return t.toFixed(r)}t.viewpoints.forEach(function(n,s){var r=n.values.map(o);a.push(e.$t(n.name)),t.stack?i.push({name:e.$t(n.name),type:"line",stack:"总量",data:r}):i.push({name:e.$t(n.name),type:"line",data:r})});var l=this.$refs.chart_body,c={dataZoom:[{startValue:s},{type:"inside"}]},u=this.$echarts.init(l,"macarons"),d={title:{text:t.title.text,subtext:t.title.subtext?t.title.subtext:this.subtext},tooltip:{trigger:"axis"},legend:{data:a},grid:{left:"3%",right:"8%",bottom:"3%",containLabel:!0},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:n,name:t.xAxisName},yAxis:{type:"value",minInterval:1,nameGap:3,name:t.yAxisName},series:i};t.dataZoom&&(d=j()(d,c)),u.setOption(d=d,!0),this.lineChart=u},setChartStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.default_chart_style);this.$refs.chart_container},resizeHandle:function(){this.lineChart.resize()}},destroyed:function(){window.removeEventListener("resize",this.resizeHandle)}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chart_continer",staticClass:"natrix-chart-container"},[e("div",{ref:"chart_body",staticClass:"areaBox"})])},staticRenderFns:[]};var tt=a("VU/8")(X,Z,!1,function(t){a("Iuk6")},"data-v-037bf8dc",null).exports,et={name:"natrixBarChart",props:{chart_data:{type:Object,required:!0,validator:function(t){return void 0!=t.title&&(void 0!=t.title.text&&(void 0!=t.xAxisName&&(void 0!=t.yAxisName&&void 0!=t.viewpoints)))}},chart_style:{type:Object,required:!1}},data:function(){return{subtext:"数据来自Natrix",barChart:null}},mounted:function(){this.drawChart(this.chart_data),window.addEventListener("resize",this.resizeHandle)},watch:{chart_data:{handler:function(t,e){this.drawChart(t)},deep:!0}},methods:{drawChart:function(t){var e=this,a=[],i=[],n=t["x-axis"],s=void 0==t.precision?t.precision:2;function r(t){return t.toFixed(s)}t.viewpoints.forEach(function(n,s){var o=n.values.map(r);a.push(e.$t(n.name)),i.push({name:e.$t(n.name),type:"bar",barWidth:t.barWidth?t.barWidth:50,data:o})});var o=this.$refs.chart_body,l=this.$echarts.init(o,"macarons"),c={title:{text:t.title.text,subtext:t.title.subtext?t.title.subtext:this.subtext},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:a},grid:{left:"3%",right:"8%",bottom:"3%",containLabel:!0},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{type:"value",boundaryGap:[0,.01],name:t.xAxisName},yAxis:{type:"category",data:n,name:t.yAxisName,axisLabel:{formatter:function(t,e){return t.length>7?t.substring(0,7)+"\n"+t.substring(7):t}}},series:i};l.setOption(c=c,!0),this.barChart=l},setChartStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.default_chart_style);this.$refs.chart_container},resizeHandle:function(){this.barChart.resize()}},destroyed:function(){window.removeEventListener("resize",this.resizeHandle)}},at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chart_container",staticClass:"natrix-chart-container"},[e("div",{ref:"chart_body",staticClass:"areaBox"})])},staticRenderFns:[]};var it=a("VU/8")(et,at,!1,function(t){a("JNRc")},"data-v-708a4ef8",null).exports,nt={name:"natrixMapChart",props:{chart_data:{type:Object,required:!0,validator:function(t){return void 0!=t.title&&(void 0!=t.title.text&&void 0!=t.values)}},chart_style:{type:Object,required:!1}},data:function(){return{subtext:"数据来自Natrix",precision:3,data_level:{critical:"#CD0000",warning:"#FF0000",fine:"#FFA500",excellent:"#008B00"},mapChart:null}},mounted:function(){this.resetStyleConfiguration(),this.drawChart(),window.addEventListener("resize",this.resizeHandle)},watch:{chart_data:{handler:function(t,e){this.drawChart()},deep:!0},chart_style:{handler:function(t,e){void 0!=this.chart_style.precision&&(this.precision=this.chart_style.precision),this.drawChart()},deep:!0}},methods:{resetStyleConfiguration:function(){this.chart_style&&this.chart_style.precision&&(this.precision=this.chart_style.precision)},convertRegionName:function(t){var e=[];return t.forEach(function(t){var a,i;e.push({name:(a=t.name,i=new RegExp(/省|市|自治区/g),a.replace(i,"")),value:t.value})}),e},chartStyleGenerator:function(){var t=this,e={};if(!this.chart_style)return e;if(this.chart_style.data_map){var a=[];this.chart_style.data_map.forEach(function(e){var i={color:t.data_level[e.level]};void 0!=e.max?(i.lte=e.max,void 0!=e.min&&(i.gt=e.min)):i.gt=e.min,a.push(i)}),e.visualMap={type:"piecewise",precision:this.precision,pieces:a}}return e},drawChart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.chart_data);var a=this.$refs.chart_body,i=this.$echarts.init(a,"macarons"),n=this.chartStyleGenerator(),s={title:{text:e.title.text,subtext:e.title.subtext?e.title.subtext:this.subtext},tooltip:{formatter:function(e){var a="";return e.data?(e.data.name&&(a+=e.data.name+":<br/>"),void 0==e.data.value?a+=null:"number"==typeof e.data.value?a+=e.data.value.toFixed(t.precision):a+=e.data.value):a+=null,a}},legend:{data:name},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},geo:{map:"china",roam:!1,label:{normal:{show:!0,textStyle:{color:"rgba(0,0,0,0.4)"}}},itemStyle:{normal:{borderColor:"rgba(0, 0, 0, 0.2)"},emphasis:{areaColor:null,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:20,borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},zoom:1},series:[{name:this.$t(e.name),type:"map",geoIndex:0,mapValueCalculation:"average",mapValuePrecision:2,data:this.convertRegionName(e.values)}]};s=j()(s,n),i.setOption(s=s,!0),this.mapChart=i},resizeHandle:function(){this.mapChart.resize()}},destroyed:function(){window.removeEventListener("resize",this.resizeHandle)}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chart_container",staticClass:"natrix-chart-container"},[e("div",{ref:"chart_body",staticClass:"areaBox"})])},staticRenderFns:[]};var rt=a("VU/8")(nt,st,!1,function(t){a("yvBk")},"data-v-265eff4e",null).exports,ot=a("Ws+I"),lt={name:"",components:{instantNav:$,searchBox:Q,natrixLineChart:tt,natrixBarChart:it,natrixMapChart:rt,errorinfoTable:J},data:function(){return{href:ManageIndex,active:0,navData:[{name:"地域分析",index:0},{name:"详细信息",index:1}],activeNames:["1"],areaActiveNames:["1","2"],organizationActiveNames:["1","2","3","4"],areaCharts:[],orgaCharts:[],timer:null,width:0,height:0,tableData:[],tableData1:[],taskId:null,finished:!0,packetLossRange:{data_map:[{min:10,level:"critical"},{min:.5,max:10,level:"warning"},{min:0,max:.5,level:"fine"},{max:0,level:"excellent"}],precision:2},ping_packetLoss:{title:{text:"PING丢包率（地域分析）"},name:"丢包率",values:[]},pingDelayRange:{data_map:[{min:500,level:"critical"},{min:100,max:500,level:"warning"},{min:50,max:100,level:"fine"},{max:50,level:"excellent"}],precision:2},ping_time:{title:{text:"PING延时（地域分析）"},name:"解析时间",values:[]},organization_packetLoss:{title:{text:"PING丢包率（组织分析）"},xAxisName:"职场名称",yAxisName:"丢包率(%)",viewpoints:[{values:[],name:""}],"x-axis":[]},organization_delay:{title:{text:"PING延时（组织分析）"},xAxisName:"职场名称",yAxisName:"时间(ms)",viewpoints:[{values:[],name:""}],"x-axis":[]},organization_interval:{title:{text:"PING延时时间段分布"},xAxisName:"时间段(ms)",yAxisName:"数量",viewpoints:[{values:[],name:""}],"x-axis":[]},organization_top10:{title:{text:"PING延时TOP（组织分析）"},barWidth:50,xAxisName:"往返时间(ms)",yAxisName:"组织名称",viewpoints:[{values:[],name:""}],"x-axis":[]},precision:2}},created:function(){},watch:{finished:{handler:function(t,e){var a=this;this.finished?this.timer&&clearInterval(this.timer):this.timer=setInterval(function(t){a.refreshAnalyseContent()},5e3)}},taskId:function(t,e){t!=e&&(this.organization_top10.viewpoints=[{values:[],name:""}],this.organization_top10["x-axis"]=[],this.organization_interval.viewpoints=[{values:[],name:""}],this.organization_interval["x-axis"]=[],this.organization_delay.viewpoints=[{values:[],name:""}],this.organization_delay["x-axis"]=[],this.organization_packetLoss.viewpoints=[{values:[],name:""}],this.organization_packetLoss["x-axis"]=[],this.ping_time.values=[],this.ping_packetLoss.values=[],this.tableData=[],this.tableData1=[])}},mounted:function(){this.refreshAnalyseContent()},methods:{handleChange:function(){},tabClick:function(t){this.active=t,this.refreshAnalyseContent()},refreshAnalyseContent:function(){if(this.taskId)switch(this.active){case 0:this.updatePacketLossData(),this.updateDelayData();break;case-1:this.updatePacketLossData(),this.updateDelayData(),this.updateDistributionData(),this.updateOrgTop10();break;case 1:this.updateDetailData()}},updateTaskInfo:function(t){this.taskId=t.taskId,this.finished=t.finished},updatePacketLossData:function(){var t=this,e=0==this.active?"region":"organization";this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:e,chart_name:"packet_loss"}}).then(function(a){if(200==a.data.code){var i=a.data.info;"region"==e?t.ping_packetLoss.values=i.values:t.organization_packetLoss=j()(t.organization_packetLoss,i)}else t.$message({type:"error",message:a.data.message})})},updateDelayData:function(){var t=this,e=0==this.active?"region":"organization";this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:e,chart_name:"delay"}}).then(function(a){if(200==a.data.code){var i=a.data.info;"region"==e?t.ping_time.values=i.values:t.organization_delay=j()(t.organization_delay,i)}else t.$message({type:"error",message:a.data.message})})},updateDistributionData:function(){var t=this,e=0==this.active?"region":"organization";this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:e,chart_name:"distribution"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.organization_interval=j()(t.organization_interval,a)}else t.$message({type:"error",message:e.data.message})})},updateOrgTop10:function(){var t=this,e=0==this.active?"region":"organization";this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:e,chart_name:"top"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.organization_top10=j()(t.organization_top10,a)}else t.$message({type:"error",message:e.data.message})})},updateDetailData:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"detail",chart_name:"default"}}).then(function(e){200==e.data.code?(e.data.info.success.forEach(function(e,a){e.organization=e.organizations.join(" \n "),e.max_time=Object(ot.a)(e.max_time,t.precision),e.min_time=Object(ot.a)(e.min_time,t.precision),e.avg_time=Object(ot.a)(e.avg_time,t.precision)}),t.tableData=e.data.info.success,t.tableData1=e.data.info.error):t.$message({type:"error",message:e.data.message})})}},destroyed:function(){clearInterval(this.timer)}},ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——即时测")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/pingAnalysis"}}},[t._v("即时测")])],1)],1),t._v(" "),a("instantNav",{attrs:{active:0}}),t._v(" "),a("searchBox",{ref:"searchBox",attrs:{active:0},on:{getTaskStatus:t.updateTaskInfo}}),t._v(" "),a("div",{staticClass:"pingContent"},[a("div",{staticClass:"pingNavBox"},[a("ul",{staticClass:"pingNav clear"},t._l(t.navData,function(e,i){return a("li",{key:i,staticClass:"cursor",class:{active:t.active==i},on:{click:function(e){t.tabClick(i)}}},[t._v(t._s(e.name))])}))]),t._v(" "),0==t.active?a("div",{attrs:{id:"areaContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.areaActiveNames,callback:function(e){t.areaActiveNames=e},expression:"areaActiveNames"}},[a("el-collapse-item",{attrs:{title:"PING丢包（地域分析）",name:"1"}},[a("natrixMapChart",{ref:"map",attrs:{chart_data:t.ping_packetLoss,chart_style:this.packetLossRange}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping时延（地域分析）",name:"2"}},[a("natrixMapChart",{ref:"map",attrs:{chart_data:t.ping_time,chart_style:this.pingDelayRange}})],1)],1)],1):t._e(),t._v(" "),-1==t.active?a("div",{attrs:{id:"organizationContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.organizationActiveNames,callback:function(e){t.organizationActiveNames=e},expression:"organizationActiveNames"}},[a("el-collapse-item",{attrs:{title:"PING丢包（组织分析）",name:"1"}},[a("natrixLineChart",{attrs:{chart_data:t.organization_packetLoss}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping时延（组织分析）",name:"2"}},[a("natrixLineChart",{attrs:{chart_data:t.organization_delay}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping时间段分布（组织分析）",name:"3"}},[a("natrixLineChart",{attrs:{chart_data:t.organization_interval}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping高延时TOP10（组织分析）",name:"4"}},[a("natrixBarChart",{attrs:{chart_data:t.organization_top10}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",{attrs:{id:"detailContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n            ping错误信息"),a("span",[t._v("（条数"+t._s(t.tableData1.length)+"）")])]),t._v(" "),a("errorinfoTable",{attrs:{tableData:t.tableData1}})],2),t._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[t._v("\n            ping检测详细信息"),a("span",[t._v("（条数"+t._s(t.tableData.length)+"）")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,border:"",fit:!0}},[a("el-table-column",{attrs:{prop:"terminal",label:"终端",width:"125"}}),t._v(" "),a("el-table-column",{attrs:{prop:"organization",label:"组织",width:"125"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.organizations,function(e,i){return a("div",{key:i},[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("名称: "+t._s(e))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag",attrs:{size:"medium"}},[t._v(t._s(e))])],1)])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"市",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"packet_send",width:"50",label:"发送"}}),t._v(" "),a("el-table-column",{attrs:{prop:"packet_receive",width:"50",label:"接收"}}),t._v(" "),a("el-table-column",{attrs:{prop:"packet_loss",width:"50",label:"丢弃"}}),t._v(" "),a("el-table-column",{attrs:{prop:"max_time",label:"最大时间(ms)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"min_time",label:"最小时间(ms)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avg_time",label:"平均时间(ms)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"packet_size",label:"包大小"}})],1)],2)],1)],1):t._e()])],1)},staticRenderFns:[]};var ut=a("VU/8")(lt,ct,!1,function(t){a("2i36"),a("MwU0")},"data-v-67c451d6",null).exports,dt={name:"natrixPieChart",props:{chart_data:{type:Object,required:!0,validator:function(t){return void 0!=t.title&&(void 0!=t.title.text&&void 0!=t.values)}},chart_style:{type:Object,required:!1}},data:function(){return{subtext:"数据来自Natrix",pieChart:null}},mounted:function(){this.drawChart(),window.addEventListener("resize",this.resizeHandle)},watch:{chart_data:{handler:function(t,e){this.drawChart()},deep:!0}},methods:{drawChart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.chart_data);var a,i=this.$refs.chart_body,n=[],s=[];a=void 0==e.precision?2:e.precision,e.values.forEach(function(e,a){s.push(t.$t(e.name)),e.name=t.$t(e.name)}),(n=e.values).forEach(function(t,e){"number"==typeof t.value&&(t.value=t.value.toFixed(a))});var r=this.$echarts.init(i,"macarons"),o={title:{text:e.title.text,subtext:e.title.subtext?e.title.subtext:this.subtext,x:"center"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{orient:"vertical",left:"left",data:s},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:n,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};r.setOption(o=o,!0),this.pieChart=r},setChartStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.default_chart_style);this.$refs.chart_container},resizeHandle:function(){this.pieChart.resize()}},destroyed:function(){window.removeEventListener("resize",this.resizeHandle)}},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chart_continer",staticClass:"natrix-chart-container"},[e("div",{ref:"chart_body",staticClass:"areaBox"})])},staticRenderFns:[]};var pt=a("VU/8")(dt,mt,!1,function(t){a("vg9S")},"data-v-71d7f57b",null).exports,ht={name:"",components:{instantNav:$,searchBox:Q,errorinfoTable:J,natrixMapChart:rt,natrixLineChart:tt,natrixPieChart:pt},data:function(){return{href:ManageIndex,active:0,navData:[{name:"地域分析",index:0},{name:"综合分析",index:1},{name:"详细信息",index:2}],areaActiveNames:["1"],organizationActiveNames:["1","2"],resultActiveNames:["1","2"],areaCharts:[],orgaCharts:[],multibleCharts:[],width:0,height:0,activeNames:["1","2"],tableData:[],tableData1:[],errorData:[],taskId:null,finished:!0,timer:null,delayRegionData:{title:{text:"HTTP请求（地域分析）"},name:"总时间",values:[]},parseTimeRange:{data_map:[{min:1e3,level:"critical"},{min:500,max:1e3,level:"warning"},{min:200,max:500,level:"fine"},{max:200,level:"excellent"}],precision:2},organization_delayData:{title:{text:"HTTP延时（组织分析）"},xAxisName:"职场名称",yAxisName:"时间(ms)",viewpoints:[{values:[],name:""}],"x-axis":[]},organization_distributionData:{title:{text:"HTTP请求时间段分布"},xAxisName:"时间段(ms)",yAxisName:"数量",viewpoints:[{values:[],name:""}],"x-axis":[]},organization_resultData:{title:{text:"HTTP请求结果分布"},values:[]},organization_performanceData:{title:{text:"HTTP连接性能分布"},values:[]},precision:2}},created:function(){},watch:{finished:{handler:function(t,e){var a=this;t?clearInterval(this.timer):this.timer=setInterval(function(t){a.refreshAnalyseContent()},5e3)}},taskId:function(t,e){this.organization_performanceData.values=[],this.organization_resultData.values=[],this.organization_distributionData.viewpoints=[{values:[],name:""}],this.organization_distributionData["x-axis"]=[],this.organization_delayData.viewpoints=[{values:[],name:""}],this.organization_delayData["x-axis"]=[],this.delayRegionData.values=[],this.tableData=[],this.tableData1=[],this.errorData=[]}},mounted:function(){this.refreshAnalyseContent()},methods:{handleClick:function(t,e){},refreshAnalyseContent:function(){if(this.taskId)switch(this.active){case 0:this.getDelayRegionData(this.taskId);break;case-1:this.getDelayRegionData(this.taskId),this.getDelayDistributionData(this.taskId);break;case 1:this.getResultData(this.taskId),this.getPerformanceData(this.taskId);break;case 2:this.getDetailData(this.taskId)}},tabClick:function(t){this.active=t,this.refreshAnalyseContent()},handleChange:function(t){},orgaResultChart:function(){var t=document.getElementById("orgaResultChart");t.style.width=this.width+"px",t.style.height=this.height+"px";var e=this.$echarts.init(t,"macarons");this.multibleCharts.push(e);e.setOption({title:{text:"请求结果分布",subtext:"数据来自Natrix",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},orgaPerformanceChart:function(){var t=document.getElementById("orgaPerformanceChart");t.style.width=this.width+"px",t.style.height=this.height+"px";var e=this.$echarts.init(t,"macarons");this.multibleCharts.push(e);e.setOption({title:{text:"连接性能分布",subtext:"数据来自Natrix",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},getTaskInfo:function(t){this.taskId=t.taskId,this.finished=t.finished},getDelayRegionData:function(t){var e=this,a=0==this.active?"region":"organization";this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:t,view_point:a,chart_name:"request"}}).then(function(t){if(200==t.data.code){var i=t.data.info;"region"==a?e.delayRegionData=j()(e.delayRegionData,i):e.organization_delayData=j()(e.organization_delayData,i)}else e.$message({type:"error",message:t.data.message})})},getDelayDistributionData:function(t){var e=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:t,view_point:"organization",chart_name:"distribution"}}).then(function(t){if(200==t.data.code){var a=t.data.info;e.organization_distributionData=j()(e.organization_distributionData,a)}else e.$message({type:"error",message:t.data.message})})},getResultData:function(t){var e=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:t,view_point:"comprehensiveness",chart_name:"result_distribution"}}).then(function(t){if(200==t.data.code){var a=t.data.info;e.organization_resultData=j()(e.organization_resultData,a)}else e.$message({type:"error",message:t.data.message})})},getPerformanceData:function(t){var e=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:t,view_point:"comprehensiveness",chart_name:"stage_distribution"}}).then(function(t){if(200==t.data.code){var a=t.data.info;e.organization_performanceData=j()(e.organization_performanceData,a)}else e.$message({type:"error",message:t.data.message})})},getDetailData:function(t){var e=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:t,view_point:"detail",chart_name:"default"}}).then(function(t){200==t.data.code?(e.tableData=t.data.info.success,e.tableData.forEach(function(t,a){t.total_time=Object(ot.a)(t.total_time,e.precision),t.period_nslookup=Object(ot.a)(t.period_nslookup,e.precision),t.period_tcp_connect=Object(ot.a)(t.period_tcp_connect,e.precision),t.period_ssl_connect=Object(ot.a)(t.period_ssl_connect,e.precision),t.period_request=Object(ot.a)(t.period_request,e.precision),t.period_response=Object(ot.a)(t.period_response,e.precision),t.period_transfer=Object(ot.a)(t.period_transfer,e.precision)}),e.tableData1=t.data.info.wrong,e.tableData1.forEach(function(t,e){}),e.errorData=t.data.info.error):e.$message({type:"error",message:t.data.message})})}},destroyed:function(){window.removeEventListener("resize",this.resizeHandle),clearInterval(this.timer)}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——即时测")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/pingAnalysis"}}},[t._v("即时测")])],1)],1),t._v(" "),a("instantNav",{attrs:{active:1}}),t._v(" "),a("searchBox",{attrs:{active:1},on:{getTaskStatus:t.getTaskInfo}}),t._v(" "),a("div",{staticClass:"pingContent"},[a("div",{staticClass:"pingNavBox"},[a("ul",{staticClass:"pingNav clear"},t._l(t.navData,function(e,i){return a("li",{key:i,staticClass:"cursor",class:{active:t.active==i},on:{click:function(e){t.tabClick(i)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])}))]),t._v(" "),0==t.active?a("div",{attrs:{id:"areaContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.areaActiveNames,callback:function(e){t.areaActiveNames=e},expression:"areaActiveNames"}},[a("el-collapse-item",{attrs:{title:"HTTP时延（地域分析）",name:"1"}},[a("natrixMapChart",{attrs:{chart_data:t.delayRegionData,chart_style:t.parseTimeRange}})],1)],1)],1):t._e(),t._v(" "),-1==t.active?a("div",{attrs:{id:"organizationContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.organizationActiveNames,callback:function(e){t.organizationActiveNames=e},expression:"organizationActiveNames"}},[a("el-collapse-item",{attrs:{title:"HTTP时延（组织分析）",name:"1"}},[a("natrixLineChart",{attrs:{chart_data:t.organization_delayData}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"HTTP时间段分布（组织分析）",name:"2"}},[a("natrixLineChart",{attrs:{chart_data:t.organization_distributionData}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",{attrs:{id:"multibleContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.resultActiveNames,callback:function(e){t.resultActiveNames=e},expression:"resultActiveNames"}},[a("el-collapse-item",{attrs:{title:"请求结果分布（组织分析）",name:"1"}},[a("natrixPieChart",{attrs:{chart_data:t.organization_resultData}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"连接性能分布（组织分析）",name:"2"}},[a("natrixPieChart",{attrs:{chart_data:t.organization_performanceData}})],1)],1)],1):t._e(),t._v(" "),2==t.active?a("div",{attrs:{id:"detailContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n                        HTTP错误信息"),a("span",[t._v("（条数"+t._s(t.errorData.length)+"）")])]),t._v(" "),a("errorinfoTable",{attrs:{tableData:t.errorData}})],2),t._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[t._v("\n                        HTTP错误状态码检测详细信息"),a("span",[t._v("（条数"+t._s(t.tableData1.length)+"）")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData1,border:"",fit:!0}},[a("el-table-column",{attrs:{prop:"terminal",width:"125",label:"终端"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",width:"125",label:"组织"}}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",width:"100",label:"市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"80",label:"运营商"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status_code",width:"80",label:"状态码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_time",label:"总时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_nslookup",width:"60",label:"解析时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_tcp_connect",width:"60",label:"tcp连接耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_request",width:"60",label:"请求耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_response",width:"60",label:"响应处理耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"size_download",width:"60",label:"下载数量"}})],1)],2),t._v(" "),a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[t._v("\n                        HTTP检测详细信息"),a("span",[t._v("（条数"+t._s(t.tableData.length)+"）")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"terminal",width:"125",label:"终端"}}),t._v(" "),a("el-table-column",{attrs:{width:"125",label:"组织"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.organizations,function(e,i){return a("div",{key:i},[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("名称: "+t._s(e))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag",attrs:{size:"medium"}},[t._v(t._s(e))])],1)])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",width:"100",label:"市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"80",label:"运营商"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status_code",width:"80",label:"状态码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_time",label:"总时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_nslookup",width:"60",label:"解析时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_tcp_connect",width:"60",label:"tcp连接耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_request",width:"60",label:"请求耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"period_response",width:"60",label:"响应处理耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"size_download",width:"60",label:"下载数量"}})],1)],2)],1)],1):t._e()])],1)},staticRenderFns:[]};var ft=a("VU/8")(ht,vt,!1,function(t){a("J2lt"),a("r93L")},"data-v-6f74d1c6",null).exports,gt={name:"",components:{instantNav:$,searchBox:Q,errorinfoTable:J},data:function(){return{href:ManageIndex,active:0,navData:[{name:"详细信息",index:0}],tableData:[],errorTableData:[],activeNames:["1"],length:0,taskId:null,finished:!0,timer:null}},created:function(){},watch:{finished:{handler:function(t,e){var a=this;t?clearInterval(this.timer):this.timer=setInterval(function(t){a.getTraceRouteData()},5e3)}},taskId:function(t,e){t!=e&&(this.tableData=[],this.errorTableData=[])}},mounted:function(){this.taskId&&this.getTraceRouteData()},methods:{getTaskInfo:function(t){this.taskId=t.taskId,this.finished=t.finished},getTraceRouteData:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"detail",chart_name:"default"}}).then(function(e){if(200==e.data.code){var a=e.data.info.success;t.length=a.length,t.generateTableData(a),t.errorTableData=e.data.info.error}else t.$message({type:"error",message:e.data.message})})},copyDeep:function(t){return JSON.parse(B()(t))},objectSpanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex,t.columnIndex);return a in[0,1,2,3,4]?0==e.index[0]?{rowspan:e.rowspans[0],colspan:1}:{rowspan:0,colspan:0}:5==a?0==e.index[1]?{rowspan:e.rowspans[1],colspan:1}:{rowspan:0,colspan:0}:void 0},generateTableData:function(t){var e=this,a=[],i=[0,0,0];t.forEach(function(t,n){i[0]=0;var s=-1;t.paths.forEach(function(n,r){i[1]=0;var o=-1;n.routes.forEach(function(r,l){i[2]=0;var c=a.length;-1==s&&(s=c),-1==o&&(o=c);var u=Object(ot.a)(r.response_times);a.push({terminal:t.terminal,organizations:t.organizations,province:t.province,city:t.city,hop:t.hop,seq:n.seq,hostname:r.hostname,ip:r.ip,response_times:u,locationName:null==r.location?"":r.location.country+"-"+r.location.province+"-"+r.location.isp,index:e.copyDeep(i),rowspans:[0,0,1]}),a[s].rowspans[0]+=1,a[o].rowspans[1]+=1,i[0]+=1,i[1]+=1})})}),this.tableData=a}},destroyed:function(){clearInterval(this.timer)}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——即时测")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/pingAnalysis"}}},[t._v("即时测")])],1)],1),t._v(" "),a("instantNav",{attrs:{active:2}}),t._v(" "),a("searchBox",{attrs:{active:2},on:{getTaskStatus:t.getTaskInfo}}),t._v(" "),a("div",{staticClass:"pingContent"},[a("div",{staticClass:"pingNavBox"},[a("ul",{staticClass:"pingNav clear"},t._l(t.navData,function(e,i){return a("li",{key:i,staticClass:"cursor",class:{active:t.active==i},on:{click:function(e){t.tabClick(i)}}},[t._v(t._s(e.name))])}))])]),t._v(" "),a("div",[a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n              Traceroute错误信息"),a("span",[t._v("（条数"+t._s(t.errorTableData.length)+"）")])]),t._v(" "),a("errorinfoTable",{attrs:{tableData:t.errorTableData}})],2),t._v(" "),a("el-collapse-item",{attrs:{title:"",name:"2"}},[a("template",{slot:"title"},[t._v("\n              Traceroute详细信息"),a("span",[t._v("（条数"+t._s(t.length)+"）")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,"span-method":t.objectSpanMethod,border:""}},[a("el-table-column",{attrs:{prop:"terminal",label:"终端",width:"125"}}),t._v(" "),a("el-table-column",{attrs:{prop:"organization",label:"组织",width:"125"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.organizations,function(e,i){return a("div",{key:i},[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("名称: "+t._s(e))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag",attrs:{size:"medium"}},[t._v(t._s(e))])],1)])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",width:"100",label:"市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hop",width:"50",label:"跳数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"seq",width:"50",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hostname",label:"主机名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"ip地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"locationName",label:"定位信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"response_times",label:"时间列表(ms)"}})],1)],2)],1)],1)],1)},staticRenderFns:[]};var bt=a("VU/8")(gt,_t,!1,function(t){a("WlKC"),a("LjGr")},"data-v-7767fc78",null).exports,kt={name:"",components:{instantNav:$,searchBox:Q,natrixPieChart:pt,natrixLineChart:tt,natrixMapChart:rt,natrixBarChart:it,errorinfoTable:J},data:function(){return{href:ManageIndex,taskId:null,finished:!0,timer:null,active:0,navData:[{name:"地域分析",index:0},{name:"详细信息",index:1}],areaActiveNames:["1","2","3"],organizationActiveNames:["1","2","3"],areaCharts:[],orgaCharts:[],width:0,height:0,tableData:[],successData:[],errorData:[],activeNames:["1"],parseResultRegionDistribution:{title:{text:"DNS解析结果地域分布"},values:[]},parseTimeRegionAnalyse:{title:{text:"DNS解析时间（地域分析）"},values:[]},parseTimeRange:{data_map:[{min:1e3,level:"critical"},{min:500,max:1e3,level:"warning"},{min:200,max:500,level:"fine"},{max:200,level:"excellent"}],precision:2},parseTimeRegionTop10:{title:{text:"DNS解析TOP10（地域分析）"},xAxisName:"解析时间(ms)",yAxisName:"城市名称",viewpoints:[],"x-axis":[]},parseTimeOrganizationAnalyse:{title:{text:"DNS解析时间（组织分析）"},xAxisName:"时间（ms）",yAxisName:"组织名称",viewpoints:[],"x-axis":[]},parseTimeOrganizationDistribution:{title:{text:"DNS解析时间分布（组织分析）"},xAxisName:"时间段（ms）",yAxisName:"数量",viewpoints:[],"x-axis":[]},parseTimeOrganizationTop10:{title:{text:"DNS解析时间TOP10(组织分析)"},xAxisName:"解析时间(ms)",yAxisName:"组织名称",viewpoints:[],"x-axis":[]}}},created:function(){},watch:{finished:{handler:function(t,e){var a=this;this.finished?this.timer&&clearInterval(this.timer):this.timer=setInterval(function(t){a.refreshAnalyseContent()},5e3)}},taskId:function(t,e){t!=e&&(this.tableData=[],this.errorData=[],this.successData=[],this.parseTimeOrganizationTop10.viewpoints=[],this.parseTimeOrganizationTop10["x-axis"]=[],this.parseTimeOrganizationDistribution.viewpoints=[],this.parseTimeOrganizationDistribution["x-axis"]=[],this.parseTimeOrganizationAnalyse.viewpoints=[],this.parseTimeOrganizationAnalyse["x-axis"]=[],this.parseTimeRegionTop10.viewpoints=[],this.parseTimeRegionTop10["x-axis"]=[],this.parseResultRegionDistribution.values=[],this.parseTimeRegionAnalyse.values=[])}},mounted:function(){this.refreshAnalyseContent()},methods:{handleChange:function(){},tabClick:function(t){this.active=t,this.refreshAnalyseContent()},refreshAnalyseContent:function(){if(this.taskId)switch(this.active){case 0:this.updateParseTimeRegionDist(),this.updateParseResultRegionDist(),this.updateParseTimeRegionTop10();break;case-1:this.updateParseTimeOrgAnalyse(),this.updateParseTimeOrgDist(),this.updateParseTimeOrgTop();break;case 1:this.updateDetailData()}},updateTaskInfo:function(t){this.taskId=t.taskId,this.finished=t.finished},updateParseTimeRegionDist:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"region",chart_name:"parse_time"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.parseTimeRegionAnalyse.values=a.values}else t.$message({type:"error",message:e.data.message})})},updateParseResultRegionDist:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"region",chart_name:"distribution"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.parseResultRegionDistribution.values=a.values}else t.$message({type:"error",message:e.data.message})})},updateParseTimeRegionTop10:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"region",chart_name:"top"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.parseTimeRegionTop10.viewpoints=a.viewpoints,t.parseTimeRegionTop10["x-axis"]=a["x-axis"]}else t.$message({type:"error",message:e.data.message})})},updateParseTimeOrgAnalyse:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"organization",chart_name:"parse_time"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.parseTimeOrganizationAnalyse.viewpoints=a.viewpoints,t.parseTimeOrganizationAnalyse["x-axis"]=a["x-axis"]}else t.$message({type:"error",message:e.data.message})})},updateParseTimeOrgDist:function(t){var e=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"organization",chart_name:"distribution"}}).then(function(t){if(200==t.data.code){var a=t.data.info;e.parseTimeOrganizationDistribution.viewpoints=a.viewpoints,e.parseTimeOrganizationDistribution["x-axis"]=a["x-axis"]}else e.$message({type:"error",message:t.data.message})})},updateParseTimeOrgTop:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"organization",chart_name:"top"}}).then(function(e){if(200==e.data.code){var a=e.data.info;t.parseTimeOrganizationTop10.viewpoints=a.viewpoints,t.parseTimeOrganizationTop10["x-axis"]=a["x-axis"]}else t.$message({type:"error",message:e.data.message})})},updateDetailData:function(){var t=this;this.$get({url:HP1+"/benchmark/instant/analyse/v1",data:{task_id:this.taskId,view_point:"detail",chart_name:"default"}}).then(function(e){if(200==e.data.code){t.successData=e.data.info.success;var a=e.data.info.success;t.errorData=e.data.info.error,t.errorData.forEach(function(t,e){t.organization=t.organizations.join(" \n ")}),t.generateTableData(a)}else t.$message({type:"error",message:e.data.message})})},generateTableData:function(t){var e=[];t.forEach(function(t,a){t.ips.forEach(function(a,i){var n={rowspan:t.ips.length,index:i,terminal:t.terminal,organizations:t.organizations,province:t.province,city:t.city,operator:t.operator,ptime:t.ptime,destination:t.destination,ip:a.ip,locationUrl:a.location.country+"-"+a.location.province+"-"+a.location.isp};e.push(n)})}),e.forEach(function(t,e){t.ptime=Object(ot.a)(t.ptime)}),this.tableData=e},objectSpanMethod:function(t){var e=t.row;t.column,t.rowIndex;if(t.columnIndex in[0,1,2,3,4,5])return 0==e.index?{rowspan:e.rowspan,colspan:1}:{rowspan:0,colspan:0}}},destroyed:function(){clearInterval(this.timer)}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——即时测")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/pingAnalysis"}}},[t._v("即时测")])],1)],1),t._v(" "),a("instantNav",{attrs:{active:3}}),t._v(" "),a("searchBox",{attrs:{active:3},on:{getTaskStatus:t.updateTaskInfo}}),t._v(" "),a("div",{staticClass:"pingContent"},[a("div",{staticClass:"pingNavBox"},[a("ul",{staticClass:"pingNav clear"},t._l(t.navData,function(e,i){return a("li",{key:i,staticClass:"cursor",class:{active:t.active==i},on:{click:function(e){t.tabClick(i)}}},[t._v(t._s(e.name))])}))]),t._v(" "),0==t.active?a("div",{attrs:{id:"areaContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.areaActiveNames,callback:function(e){t.areaActiveNames=e},expression:"areaActiveNames"}},[a("el-collapse-item",{attrs:{title:"DNS解析时间分析",name:"1"}},[a("natrixMapChart",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{chart_data:this.parseTimeRegionAnalyse,chart_style:this.parseTimeRange}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"DNS解析地址地域分布",name:"2"}},[a("natrixPieChart",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{chart_data:this.parseResultRegionDistribution}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"DNS解析地域分布TOP10",name:"3"}},[a("natrixBarChart",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{chart_data:this.parseTimeRegionTop10}})],1)],1)],1):t._e(),t._v(" "),-1==t.active?a("div",{attrs:{id:"orgaContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.organizationActiveNames,callback:function(e){t.organizationActiveNames=e},expression:"organizationActiveNames"}},[a("el-collapse-item",{attrs:{title:"DNS解析时间",name:"1"}},[a("natrixLineChart",{attrs:{chart_data:this.parseTimeOrganizationAnalyse}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"DNS解析时间段分布",name:"2"}},[a("natrixLineChart",{attrs:{chart_data:t.parseTimeOrganizationDistribution}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"DNS解析组织分布TOP10",name:"3"}},[a("natrixBarChart",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{chart_data:this.parseTimeOrganizationTop10}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",{attrs:{id:"detailContent"}},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n                DNS错误信息"),a("span",[t._v("（条数"+t._s(t.errorData.length)+"）")])]),t._v(" "),a("errorinfoTable",{attrs:{tableData:t.errorData}})],2),t._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[t._v("\n                DNS详细信息"),a("span",[t._v("（条数"+t._s(t.successData.length)+"）")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%,margin-top:50px"},attrs:{data:t.tableData,"span-method":t.objectSpanMethod,border:""}},[a("el-table-column",{attrs:{prop:"terminal",label:"终端",width:"125"}}),t._v(" "),a("el-table-column",{attrs:{label:"组织",width:"125"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.organizations,function(e,i){return a("div",{key:i},[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("名称: "+t._s(e))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"tag",attrs:{size:"medium"}},[t._v(t._s(e))])],1)])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",width:"100",label:"市"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"80",label:"运营商"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ptime",label:"解析时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"destination",label:"目的地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"解析ip"}}),t._v(" "),a("el-table-column",{attrs:{prop:"locationUrl",label:"定位信息"}})],1)],2)],1)],1):t._e()])],1)},staticRenderFns:[]};var xt=a("VU/8")(kt,wt,!1,function(t){a("Zi7I")},null,null).exports,yt={name:"",components:{page:h.a},data:function(){return{href:ManageIndex,searchWord:"",tableData:[],page_Count:1,pageNum:1,pageShow:!1,currentPageNum:1,item_count:0}},created:function(){},watch:{},mounted:function(){this.getTaskList(1)},methods:{pageChangeHandle:function(t){this.getTaskList(t)},getTaskList:function(t){var e=this;this.$get({url:HP1+"/benchmark/timed/task/list/v1",data:{search:this.searchWord,is_paginate:!0,pagenum:t}}).then(function(t){200==t.data.code&&(e.item_count=t.data.item_count,e.page_Count=t.data.page_count,e.pageNum=t.data.page_num,e.pageShow=t.data.page_count>0,e.tableData=t.data.info,e.tableData.forEach(function(t,a){t.effective_time=Object(ot.b)(t.effective_time),t.analyseShow=t.operations.includes("analyse"),t.editShow=t.operations.includes("edit"),t.offShow=t.operations.includes("off"),t.onShow=t.operations.includes("on"),t.deleteShow=t.operations.includes("delete"),t.alertShow=t.operations.includes("alert"),t.unfollowedShow=t.operations.includes("unfollowed"),t.scope=e.$t(t.scope)}))})},gotoAddTask:function(){this.$router.push({path:"addTask"})},gotoFocusTask:function(){this.$router.push({path:"focusTask"})},gotoTaskInfo:function(t){this.$router.push({path:"taskInfo",query:{taskId:t}})},handleEdit:function(t,e){this.$router.push({path:"editTask",query:{taskId:e.id}})},handleDel:function(t,e){var a=this;this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteHandle(e.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deleteHandle:function(t){var e=this;this.$delete({url:HP1+"/benchmark/timed/task/v1",data:{task_id:t}}).then(function(t){200==t.data.code?(e.$message({type:"success",message:t.data.message}),e.$refs.page.currentPage=1,e.getTaskList(1)):e.$message({type:"error",message:t.data.message})})},turnOnHandle:function(t,e){var a=this;this.$put({url:HP1+"/benchmark/timed/operation/v1",data:{task_id:e.id,operation:"on"}}).then(function(t){200==t.data.code?(a.$message({type:"success",message:t.data.message}),a.$refs.page.currentPage=1,a.getTaskList(1)):a.$message({type:"error",message:t.data.message})})},turnOffHandle:function(t,e){var a=this;this.$put({url:HP1+"/benchmark/timed/operation/v1",data:{task_id:e.id,operation:"off"}}).then(function(t){200==t.data.code?(a.$message({type:"success",message:t.data.message}),a.$refs.page.currentPage=1,a.getTaskList(1)):a.$message({type:"error",message:t.data.message})})},handleUnfollow:function(t,e){var a=this;this.$put({url:HP1+"/benchmark/timed/operation/v1",data:{task_id:e.id,operation:"unfollowed"}}).then(function(t){200==t.data.code?(a.$message({type:"success",message:t.data.message}),a.$refs.page.currentPage=1,a.getTaskList(1)):a.$message({type:"error",message:t.data.message})})},handlefollow:function(t,e){var a=this;this.$put({url:HP1+"/benchmark/timed/operation/v1",data:{task_id:e.id,operation:"followed"}}).then(function(t){200==t.data.code?(a.$message({type:"success",message:t.data.message}),a.$refs.page.currentPage=1,a.getTaskList(1)):a.$message({type:"error",message:t.data.message})})},gotoTaskAnalysis:function(t,e){this.$router.push({path:"timedAnalysis",query:{taskId:e.id}})}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——定时测")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/taskList"}}},[t._v("定时测")])],1)],1),t._v(" "),a("div",{staticClass:"optionBox clear"},[a("div",{staticClass:"fl"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.gotoAddTask}},[t._v("创建")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-star-on"},on:{click:t.gotoFocusTask}},[t._v("关注")])],1),t._v(" "),a("el-input",{staticClass:"fr",attrs:{placeholder:"根据任务名称和地址",size:"mini"},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:function(e){t.getTaskList(1)}},slot:"append"})],1)],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"detailColor cursor",on:{click:function(a){t.gotoTaskInfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"scope",label:"范围",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"protocol_type",width:"100",label:"协议类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"destination",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"frequency",width:"60",label:"频率"}}),t._v(" "),a("el-table-column",{attrs:{width:"60",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["running"==e.row.status?a("span",{staticClass:"statusBtn successBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"expired"==e.row.status?a("span",{staticClass:"statusBtn defaultBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"stoped"==e.row.status?a("span",{staticClass:"statusBtn errorBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"effective_time",width:"120",label:"生效时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.analyseShow,expression:"scope.row.analyseShow"}],attrs:{size:"mini",type:"default"},on:{click:function(a){t.gotoTaskAnalysis(e.$index,e.row)}}},[t._v("分析")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.editShow,expression:"scope.row.editShow"}],attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.onShow,expression:"scope.row.onShow"}],attrs:{size:"mini",type:"success"},on:{click:function(a){t.turnOnHandle(e.$index,e.row)}}},[t._v("开启")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.offShow,expression:"scope.row.offShow"}],attrs:{size:"mini",type:"off"},on:{click:function(a){t.turnOffHandle(e.$index,e.row)}}},[t._v("暂停")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.deleteShow,expression:"scope.row.deleteShow"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.unfollowedShow,expression:"scope.row.unfollowedShow"}],attrs:{size:"mini",type:"unfollowed"},on:{click:function(a){t.handleUnfollow(e.$index,e.row)}}},[t._v("取关")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.alertShow,expression:"scope.row.alertShow"}],attrs:{size:"mini",type:"primary",icon:"el-icon-plus"}},[t._v("告警")])]}}])})],1),t._v(" "),a("page",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],ref:"page",attrs:{pageCount:t.page_Count,item_count:t.item_count,currentPage:t.currentPageNum},on:{"page-change":t.pageChangeHandle}})],1)},staticRenderFns:[]};var At=a("VU/8")(yt,Ct,!1,function(t){a("L99j"),a("hMN7")},"data-v-6b651a08",null).exports,Tt={name:"",components:{page:h.a},data:function(){return{href:ManageIndex,ruleForm:{type:"ping",task:""},taskList:[],briefInfo:{},rules:{type:[{required:!0,message:"请选择协议类型",trigger:"change"}],task:[{required:!0,message:"请选择任务",trigger:"change"}]}}},created:function(){},watch:{},mounted:function(){this.getFocusList()},methods:{getFocusList:function(){var t=this;this.$get({url:HP1+"/benchmark/timed/unfollowedTask/list/v1",data:{protocol_type:this.ruleForm.type}}).then(function(e){200==e.data.code?(t.taskList=e.data.info,t.taskList.length>0?(t.ruleForm.task=t.taskList[0].id,t.getBriefinfo(t.ruleForm.task)):(t.ruleForm.task="",t.briefInfo={})):t.$message({type:"error",message:e.data.message})})},getBriefinfo:function(t){var e=this;this.$get({url:HP1+"/benchmark/timed/task/v1",data:{task_id:t,info_type:"brief"}}).then(function(t){200==t.data.code?(e.briefInfo=q()({},t.data.data),e.briefInfo.create_time=Object(ot.b)(e.briefInfo.create_time)):e.$message({type:"error",message:t.data.message})})},gotoTaskInfo:function(){this.$router.push({path:"taskInfo",query:{taskId:this.briefInfo.id}})},focusTask:function(){var t=this;if(""==this.ruleForm.task)return this.$message({type:"error",message:"您未选择要关注的任务！"}),!1;this.$put({url:HP1+"/benchmark/timed/operation/v1",data:{task_id:this.ruleForm.task,operation:"followed"}}).then(function(e){200==e.data.code?(t.$message({type:"success",message:e.data.message}),t.$router.push({path:"timedTaskList"})):t.$message({type:"error",message:e.data.message})})},unFocus:function(){this.$router.push({path:"timedTaskList"})}}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——关注定时测任务")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/timedTaskList"}}},[t._v("定时测")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"协议类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择协议类型",size:"mini"},on:{change:t.getFocusList},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},[a("el-option",{attrs:{label:"ping",value:"ping"}}),t._v(" "),a("el-option",{attrs:{label:"http",value:"http"}}),t._v(" "),a("el-option",{attrs:{label:"dns",value:"dns"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"任务选择",prop:"task"}},[a("el-select",{attrs:{placeholder:"请选择任务",size:"mini"},on:{change:function(e){t.getBriefinfo(t.ruleForm.task)}},model:{value:t.ruleForm.task,callback:function(e){t.$set(t.ruleForm,"task",e)},expression:"ruleForm.task"}},t._l(t.taskList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:""}},[a("div",{staticClass:"taskListBox"},[a("ul",[a("li",{staticClass:"listItem clear"},[a("span",{staticClass:"fl labelItem"},[t._v("任务名称：")]),t._v(" "),a("p",{staticClass:"fl labelContent taskName"},[a("a",{staticClass:"detailColor",attrs:{href:"javascript:void(0)"},on:{click:t.gotoTaskInfo}},[t._v(t._s(t.briefInfo.name))])])]),t._v(" "),a("li",{staticClass:"listItem clear"},[a("span",{staticClass:"fl labelItem"},[t._v("监控地址：")]),t._v(" "),a("p",{staticClass:"fl labelContent"},[t._v(t._s(t.briefInfo.destination))])]),t._v(" "),a("li",{staticClass:"listItem clear"},[a("div",{staticClass:"fl status"},[a("span",{staticClass:"fl labelItem"},[t._v("任务状态：")]),t._v(t._s(t.$t(t.briefInfo.status)))]),t._v(" "),a("div",{staticClass:"fl status"},[a("span",{staticClass:"fl labelItem"},[t._v("监控频率：")]),t._v(t._s(t.briefInfo.frequency)+"（分钟）")])]),t._v(" "),a("li",{staticClass:"listItem clear"},[a("span",{staticClass:"fl labelItem"},[t._v("创建时间：")]),t._v(" "),a("p",{staticClass:"fl labelContent"},[t._v(t._s(t.briefInfo.create_time))])]),t._v(" "),a("li",{staticClass:"listItem clear"},[a("span",{staticClass:"fl labelItem"},[t._v("任务描述：")]),t._v(" "),a("p",{staticClass:"fl labelContent"},[t._v(t._s(t.briefInfo.description))])])])]),t._v(" "),a("el-form-item",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.focusTask}},[t._v("关注")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:t.unFocus}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Dt=a("VU/8")(Tt,It,!1,function(t){a("9GOM"),a("nr5C")},"data-v-a41c67dc",null).exports,Nt=a("bOdI"),Ot=a.n(Nt),Ft={name:"terminalConfig",props:{disabled:{type:Boolean,default:!1},terminalConfig:{type:Object}},components:{regionSelect:_},data:function(){var t;return t={filterType:"region",terminal:1,terminalCount:0,isIndeterminate:!0,terminalDialogVisible:!1,terminals:[],checkedTerminals:[]},Ot()(t,"terminalCount",0),Ot()(t,"terminalList",[]),Ot()(t,"checkAllTerminal",!1),Ot()(t,"province","all"),Ot()(t,"city","all"),Ot()(t,"terminalListValue",[]),Ot()(t,"initalFlag",!0),t},created:function(){this.terminalConfig&&(this.terminalConfig.filter_condition&&this.terminalConfig.filter_condition.length>=2&&(this.province=this.terminalConfig.filter_condition[0],this.city=this.terminalConfig.filter_condition[1]),this.terminal=this.terminalConfig.terminal_select?2:1,this.checkedTerminals=[],this.terminalConfig.terminals&&(this.checkedTerminals=this.terminalConfig.terminals))},mounted:function(){},methods:{getCityHandle:function(t){this.province=t[0],this.city=t[1],this.cityList=t,this.getTerminalCount(),this.getTerminalList()},showTerminalDialog:function(){this.terminalDialogVisible=!0},terminalhandleCheckAllChange:function(t){this.checkedTerminals=t?this.terminalList:[],this.isIndeterminate=!1},handleCheckedTerminalsChange:function(t){var e=t.length;this.checkAllTerminal=e===this.terminalCount,this.isIndeterminate=e>0&&e<this.terminalCount},confirmHandle:function(){this.terminalDialogVisible=!1},getTerminalList:function(){var t=this;this.$post({url:HP1+"/terminal/common/terminals/list/v1",data:{type:"region",is_classify:!0,filter_condition:this.cityList}}).then(function(e){200==e.data.code&&(t.terminalList=[],t.terminalListValue=[],t.terminals=e.data.info,t.terminals.forEach(function(e,a){e.terminals.forEach(function(e,a){t.terminalList.push(e.value)})}),t.initalFlag||(t.checkedTerminals=t.terminalList),t.initalFlag=!1)})},getTerminalCount:function(){var t=this;this.$post({url:HP1+"/terminal/common/terminals/count/v1",data:{type:"region",filter_condition:this.cityList}}).then(function(e){200==e.data.code?(t.terminalCount=e.data.info.alive,t.checkedTerminals&&(t.checkAllTerminal=t.checkedTerminals.length==t.terminalCount)):t.$message({message:e.data.message,type:"error"})})}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"filterList"},[a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("过滤方式：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-radio-group",{attrs:{disabled:t.disabled},model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[a("el-radio",{attrs:{label:"region"}},[t._v("地域选择")])],1)],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("过滤条件：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},["region"==t.filterType?a("regionSelect",{ref:"regionSelect",attrs:{provinceValue:t.province,cityValue:t.city,disabled:t.disabled},on:{selectList:t.getCityHandle}}):t._e()],1)]),t._v(" "),a("li",{staticClass:"clear"},[a("span",{staticClass:"fl filterLabel"},[t._v("终端选择：")]),t._v(" "),a("div",{staticClass:"fl filterItem"},[a("el-radio-group",{attrs:{disabled:t.disabled},model:{value:t.terminal,callback:function(e){t.terminal=e},expression:"terminal"}},[a("el-radio",{attrs:{label:1}},[a("span",[t._v("全部")])]),t._v(" "),a("el-radio",{attrs:{label:2}},[a("span",{on:{click:t.showTerminalDialog}},[t._v("特定终端")])])],1)],1)])]),t._v(" "),a("div",{attrs:{id:"terminalDialog"}},[a("el-dialog",{attrs:{title:"终端选择",visible:t.terminalDialogVisible},on:{"update:visible":function(e){t.terminalDialogVisible=e}}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.terminalhandleCheckAllChange},model:{value:t.checkAllTerminal,callback:function(e){t.checkAllTerminal=e},expression:"checkAllTerminal"}},[t._v("全选")]),t._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),t._l(t.terminals,function(e,i){return a("div",{key:i,staticClass:"clear terminalItem"},[a("span",{staticClass:"fl cityName"},[t._v(t._s(e.name))]),t._v(" "),a("el-checkbox-group",{staticClass:"fl cityList",on:{change:t.handleCheckedTerminalsChange},model:{value:t.checkedTerminals,callback:function(e){t.checkedTerminals=e},expression:"checkedTerminals"}},t._l(e.terminals,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1)})],2)],1)])},staticRenderFns:[]};var zt=a("VU/8")(Ft,Lt,!1,function(t){a("2CtA"),a("CUt/")},"data-v-a7a2d120",null).exports,Pt={name:"protocolConfig",props:{active:{type:String,default:"PING",required:!0},disabled:{type:Boolean,default:!1},protocolConfig:{type:Object}},data:function(){return{pingObj:{timeout:1,count:10,packet_size:55},httpObj:{protocol:"HTTP1.1",timeout:600,is_redirect:!0,redirect_count:5,is_snap:!1,auth_info:null,header_info:null,body_info:null},dnsObj:{is_default:!0,timeout:10,dns_server:null},authEditor:null,headerEditor:null,bodyEditor:null,options:{mode:"code",mainMenuBar:!1}}},created:function(){},watch:{active:function(t,e){this.inittialProtocol()}},mounted:function(){this.inittialProtocol()},methods:{inittialProtocol:function(){switch(this.active){case"PING":this.pingObj="{}"==this.isObjEmpty(this.protocolConfig)?this.pingObj:q()({},this.protocolConfig);break;case"HTTP":this.httpObj="{}"==this.isObjEmpty(this.protocolConfig)?this.httpObj:q()({},this.protocolConfig),this.disabled?this.initEditorinfo():this.initHttp();break;case"DNS":this.dnsObj="{}"==this.isObjEmpty(this.protocolConfig)?this.dnsObj:q()({},this.protocolConfig)}},initHttp:function(){if(null==this.authEditor){var t=document.getElementById("authBox");if(this.authEditor=this.initEditor(t,this.options),this.httpObj.auth_info){var e=JSON.parse(this.httpObj.auth_info);this.authEditor.set(e)}}if(null==this.headerEditor){var a=document.getElementById("headerBox");if(this.headerEditor=this.initEditor(a,this.options),this.httpObj.header_info){var i=JSON.parse(this.httpObj.header_info);this.headerEditor.set(i)}}if(null==this.bodyEditor){var n=document.getElementById("bodyBox");if(this.bodyEditor=this.initEditor(n,this.options),this.httpObj.body_info){var s=JSON.parse(this.httpObj.body_info);this.bodyEditor.set(s)}}},initEditor:function(t,e){return new JSONEditor(t,this.options)},initEditorinfo:function(){this.options={mode:"text",mainMenuBar:!1,onEditable:function(t){if(!t.path)return!1},onError:function(t){alert(t.toString())}},this.authEditor=null,this.headerEditor=null,this.bodyEditor=null,this.init()},getHttpJson:function(){null!=this.authEditor&&(this.httpObj.auth_info=B()(this.authEditor.get()),this.httpObj.header_info=B()(this.headerEditor.get()),this.httpObj.body_info=B()(this.bodyEditor.get()))},isObjEmpty:function(t){return B()(t)}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agreement"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"PING"==t.active,expression:"active == 'PING' "}],staticClass:"protocolFilter"},[a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间(s)：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请输入超时时间"},model:{value:t.pingObj.timeout,callback:function(e){t.$set(t.pingObj,"timeout",e)},expression:"pingObj.timeout"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("发送次数(次)：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请输入发送次数"},model:{value:t.pingObj.count,callback:function(e){t.$set(t.pingObj,"count",e)},expression:"pingObj.count"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("数据包（字节）：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请输入大小"},model:{value:t.pingObj.packet_size,callback:function(e){t.$set(t.pingObj,"packet_size",e)},expression:"pingObj.packet_size"}})],1)])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"HTTP"==t.active,expression:"active == 'HTTP' "}],staticClass:"protocolFilter"},[a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("协议选择：")]),t._v(" "),a("el-radio",{attrs:{disabled:t.disabled,label:"HTTP1.1"},model:{value:t.httpObj.protocol,callback:function(e){t.$set(t.httpObj,"protocol",e)},expression:"httpObj.protocol"}},[t._v("HTTP1.1")])],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间（s)：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请输入超时时间"},model:{value:t.httpObj.timeout,callback:function(e){t.$set(t.httpObj,"timeout",e)},expression:"httpObj.timeout"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("允许重定向：")]),t._v(" "),a("el-switch",{attrs:{disabled:t.disabled,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.httpObj.is_redirect,callback:function(e){t.$set(t.httpObj,"is_redirect",e)},expression:"httpObj.is_redirect"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("最大重定向数：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled||!t.httpObj.is_redirect,placeholder:"请输入数量",type:"number",size:"mini"},model:{value:t.httpObj.redirect_count,callback:function(e){t.$set(t.httpObj,"redirect_count",e)},expression:"httpObj.redirect_count"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("页面快照：")]),t._v(" "),a("el-switch",{attrs:{disabled:t.disabled,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.httpObj.is_snap,callback:function(e){t.$set(t.httpObj,"is_snap",e)},expression:"httpObj.is_snap"}})],1)]),t._v(" "),a("div",{staticClass:"clear",attrs:{id:"jsonEditorBox"}},[a("div",{staticClass:"fl item"},[a("h4",{staticClass:"title"},[t._v("\n                    认证(Authorization)\n                    "),a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("目前，仅支持basic类型的安全验证."),a("br"),t._v("basic类型，格式如下:"),a("br"),t._v("\n                        {\n                        'auth_type': 'basic',\n                        'auth_user': '{username}:{password}'\n                        }")]),t._v(" "),a("span",{staticClass:"el-icon-question"})])],1),t._v(" "),a("div",{attrs:{id:"authBox"}})]),t._v(" "),t._m(0),t._v(" "),t._m(1)])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"DNS"==t.active,expression:"active == 'DNS'"}],staticClass:"protocolFilter"},[a("div",{staticClass:"agreementContent"},[a("ul",{staticClass:"pingAgreeList clear"},[a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("DNS设置：")]),t._v(" "),a("el-radio-group",{attrs:{disabled:t.disabled},model:{value:t.dnsObj.is_default,callback:function(e){t.$set(t.dnsObj,"is_default",e)},expression:"dnsObj.is_default"}},[a("el-radio",{attrs:{label:!0}},[t._v("默认")]),t._v(" "),a("el-radio",{attrs:{label:!1}},[t._v("自定义")])],1),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入IP地址",disabled:t.disabled||t.dnsObj.is_default},model:{value:t.dnsObj.dns_server,callback:function(e){t.$set(t.dnsObj,"dns_server",e)},expression:"dnsObj.dns_server"}})],1),t._v(" "),a("li",[a("span",{staticClass:"pingAgreelabel"},[t._v("超时时间(s)：")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled,size:"mini",placeholder:"请输入超时时间"},model:{value:t.dnsObj.timeout,callback:function(e){t.$set(t.dnsObj,"timeout",e)},expression:"dnsObj.timeout"}})],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl item"},[e("h4",{staticClass:"title"},[this._v("头部(headers)")]),this._v(" "),e("div",{attrs:{id:"headerBox"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl item"},[e("h4",{staticClass:"title"},[this._v("主体(Body)")]),this._v(" "),e("div",{attrs:{id:"bodyBox"}})])}]};var jt=a("VU/8")(Pt,St,!1,function(t){a("NpeY"),a("z7WM")},"data-v-7aa5b49a",null).exports,Et={name:"",components:{terminalConfig:zt,protocolConfig:jt},data:function(){return{href:ManageIndex,page_Count:1,pageNum:1,pageShow:!1,ruleForm:{name:"",description:"",scope:"private",destination:"",frequency:5,terminal_switch:!1,protocol_type:"PING",http_method:"get",protocol_switch:!1,effective_time:"",expiry_time:""},terminal_configuration:{},protocol_configuration:{},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],destination:[{required:!0,message:"请输入地址",trigger:"blur"}],scope:[{required:!0,message:"请选择任务范围",trigger:"change"}],frequency:[{type:"number",required:!0,message:"请输入监测频率",trigger:"blur"}],http_method:[{required:!0,message:"请选择HTTP方法",trigger:"change"}],protocol_type:[{required:!0,message:"请选择协议类型",trigger:"change"}],effective_time:[{required:!0,message:"请选择开始时间",trigger:"change"}],expiry_time:[{required:!0,message:"请选择结束时间",trigger:"change"}]}}},created:function(){},watch:{},mounted:function(){},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.addTask()})},resetForm:function(t){this.$refs[t].resetFields(),window.history.go(-1)},addTask:function(){var t,e=this,a={},i=[],n=void 0,s=void 0,r=void 0;if(this.$refs.terminalConfig.checkedTerminals.forEach(function(t,e){i.push(t)}),t={filter_type:"region",filter_condition:[this.$refs.terminalConfig.province,this.$refs.terminalConfig.city],terminal_select:1!==this.$refs.terminalConfig.terminal,terminals:1===this.$refs.terminalConfig.terminal?null:i},this.ruleForm.protocol_switch)switch(this.ruleForm.protocol_type){case"PING":a=this.$refs.protocolConfig.pingObj;break;case"HTTP":n=this.isObjEmpty(this.$refs.protocolConfig.authEditor.get()),s=this.isObjEmpty(this.$refs.protocolConfig.headerEditor.get()),r=this.isObjEmpty(this.$refs.protocolConfig.bodyEditor.get()),a=q()({},this.$refs.protocolConfig.httpObj,{auth_info:n,header_info:s,body_info:r});break;case"DNS":a=this.$refs.protocolConfig.dnsObj}var o=q()({},this.ruleForm,{terminal_configuration:t,protocol_type:this.ruleForm.protocol_type.toLowerCase(),protocol_configuration:this.ruleForm.protocol_switch?a:null});if(o.expiry_time<o.effective_time)return this.$message({type:"error",message:"失效时间必须大于生效时间"}),!1;this.$post({url:HP1+"/benchmark/timed/task/v1",data:o}).then(function(t){200==t.data.code&&(e.$message({type:"success",message:t.data.message}),e.$router.push({path:"timedTaskList"}))})},isObjEmpty:function(t){return B()(t)}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——创建定时测任务")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/timedTaskList"}}},[t._v("定时测")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"任务范围",prop:"scope"}},[a("el-radio-group",{model:{value:t.ruleForm.scope,callback:function(e){t.$set(t.ruleForm,"scope",e)},expression:"ruleForm.scope"}},[a("el-radio",{attrs:{label:"public"}}),t._v(" "),a("el-radio",{attrs:{label:"private"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"监测地址",prop:"destination"}},[a("el-input",{model:{value:t.ruleForm.destination,callback:function(e){t.$set(t.ruleForm,"destination",e)},expression:"ruleForm.destination"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"监测频率",prop:"frequency"}},[a("el-input",{attrs:{type:"number"},model:{value:t.ruleForm.frequency,callback:function(e){t.$set(t.ruleForm,"frequency",t._n(e))},expression:"ruleForm.frequency"}}),t._v("单位：（分）\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"终端配置",prop:"terminal_switch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.terminal_switch,callback:function(e){t.$set(t.ruleForm,"terminal_switch",e)},expression:"ruleForm.terminal_switch"}}),t._v(" "),a("terminalConfig",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.terminal_switch,expression:"ruleForm.terminal_switch"}],ref:"terminalConfig"})],1),t._v(" "),a("el-form-item",{attrs:{label:"协议类型",prop:"protocol_type"}},[a("el-radio-group",{model:{value:t.ruleForm.protocol_type,callback:function(e){t.$set(t.ruleForm,"protocol_type",e)},expression:"ruleForm.protocol_type"}},[a("el-radio",{attrs:{label:"PING"}}),t._v(" "),a("el-radio",{attrs:{label:"HTTP"}}),t._v(" "),a("el-radio",{attrs:{label:"DNS"}})],1)],1),t._v(" "),"HTTP"==t.ruleForm.protocol_type?a("el-form-item",{attrs:{label:"HTTP方法",prop:"http_method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式"},model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"get",value:"get"}}),t._v(" "),a("el-option",{attrs:{label:"post",value:"post"}}),t._v(" "),a("el-option",{attrs:{label:"put",value:"put"}}),t._v(" "),a("el-option",{attrs:{label:"delete",value:"delete"}}),t._v(" "),a("el-option",{attrs:{label:"header",value:"header"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"协议配置",prop:"protocol_switch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.protocol_switch,callback:function(e){t.$set(t.ruleForm,"protocol_switch",e)},expression:"ruleForm.protocol_switch"}}),t._v(" "),t.ruleForm.protocol_switch?a("protocolConfig",{ref:"protocolConfig",attrs:{active:t.ruleForm.protocol_type,protocolConfig:{}}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"生效时间",prop:"effective_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.ruleForm.effective_time,callback:function(e){t.$set(t.ruleForm,"effective_time",e)},expression:"ruleForm.effective_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"失效时间",prop:"expiry_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.ruleForm.expiry_time,callback:function(e){t.$set(t.ruleForm,"expiry_time",e)},expression:"ruleForm.expiry_time"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Ht=a("VU/8")(Et,$t,!1,function(t){a("fP6R"),a("zkGO")},"data-v-72ceddc3",null).exports,Bt={name:"",components:{terminalConfig:zt,protocolConfig:jt},data:function(){return{href:ManageIndex,page_Count:1,pageNum:1,pageShow:!1,ruleForm:{name:"",description:"",scope:"private",destination:"",frequency:5,terminal_switch:!1,protocol_type:"ping",http_method:"get",protocolConfig:!1,effective_time:"",expiry_time:"",protocol_configuration:{},terminal_configuration:{}},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"blur"}],destination:[{required:!0,message:"请输入地址",trigger:"blur"}],scope:[{required:!0,message:"请选择任务范围",trigger:"change"}],frequency:[{type:"number",required:!0,message:"请输入监测频率",trigger:"blur"}],http_method:[{required:!0,message:"请选择HTTP方法",trigger:"change"}],protocol_type:[{required:!0,message:"请选择协议类型",trigger:"change"}],effective_time:[{required:!0,message:"请选择开始时间",trigger:"change"}],expiry_time:[{required:!0,message:"请选择结束时间",trigger:"change"}]}}},created:function(){},watch:{},mounted:function(){this.getTaskInfo()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.editTask()})},resetForm:function(t){this.$refs[t].resetFields(),window.history.go(-1)},getTaskInfo:function(){var t=this;this.$get({url:HP1+"/benchmark/timed/task/v1",data:{task_id:this.$route.query.taskId,info_type:"detailed"}}).then(function(e){200==e.data.code&&(t.ruleForm=q()({},e.data.data),t.ruleForm.protocol_type=t.ruleForm.protocol_type.toUpperCase())})},editTask:function(){var t,e=this,a=[],i={},n=void 0,s=void 0,r=void 0;if(this.$refs.terminalConfig.terminals&&this.$refs.terminalConfig.terminals.length>0&&this.$refs.terminalConfig.checkedTerminals.forEach(function(t,e){a.push(t)}),t={filter_type:"region",filter_condition:[this.$refs.terminalConfig.province,this.$refs.terminalConfig.city],terminal_select:1!=this.$refs.terminalConfig.terminal,terminals:1===this.$refs.terminalConfig.terminal?null:a},this.ruleForm.protocol_switch)switch(this.ruleForm.protocol_type){case"PING":i=this.$refs.protocolConfig.pingObj;break;case"HTTP":n=this.isObjEmpty(this.$refs.protocolConfig.authEditor.get()),s=this.isObjEmpty(this.$refs.protocolConfig.headerEditor.get()),r=this.isObjEmpty(this.$refs.protocolConfig.bodyEditor.get()),i=q()({},this.$refs.protocolConfig.httpObj,{auth_info:n,header_info:s,body_info:r});break;case"DNS":i=this.$refs.protocolConfig.dnsObj}var o=q()({},this.ruleForm,{terminal_configuration:t,protocol_type:this.ruleForm.protocol_type.toLowerCase(),protocol_configuration:this.ruleForm.protocol_switch?i:null});if(o.expiry_time<o.effective_time)return this.$message({type:"error",message:"失效时间必须大于生效时间"}),!1;this.$put({url:HP1+"/benchmark/timed/task/v1",data:o}).then(function(t){200==t.data.code?(e.$message({type:"success",message:t.data.message}),e.$router.push({path:"timedTaskList"})):e.$message({type:"error",message:t.data.message})})},isObjEmpty:function(t){return B()(t)}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——编辑定时测任务")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/timedTaskList"}}},[t._v("定时测")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"任务范围",prop:"scope"}},[a("el-radio-group",{model:{value:t.ruleForm.scope,callback:function(e){t.$set(t.ruleForm,"scope",e)},expression:"ruleForm.scope"}},[a("el-radio",{attrs:{label:"public"}}),t._v(" "),a("el-radio",{attrs:{label:"private"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"监测地址",prop:"destination"}},[a("el-input",{model:{value:t.ruleForm.destination,callback:function(e){t.$set(t.ruleForm,"destination",e)},expression:"ruleForm.destination"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"监测频率",prop:"frequency"}},[a("el-input",{attrs:{type:"number"},model:{value:t.ruleForm.frequency,callback:function(e){t.$set(t.ruleForm,"frequency",t._n(e))},expression:"ruleForm.frequency"}}),t._v("（分）\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"终端配置",prop:"terminal_switch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.terminal_switch,callback:function(e){t.$set(t.ruleForm,"terminal_switch",e)},expression:"ruleForm.terminal_switch"}}),t._v(" "),t.ruleForm.terminal_switch?a("terminalConfig",{ref:"terminalConfig",attrs:{terminalConfig:t.ruleForm.terminal_configuration}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"协议类型",prop:"protocol_type"}},[a("el-radio-group",{attrs:{disabled:""},model:{value:t.ruleForm.protocol_type,callback:function(e){t.$set(t.ruleForm,"protocol_type",e)},expression:"ruleForm.protocol_type"}},[a("el-radio",{attrs:{label:"PING"}}),t._v(" "),a("el-radio",{attrs:{label:"HTTP"}}),t._v(" "),a("el-radio",{attrs:{label:"DNS"}})],1)],1),t._v(" "),"HTTP"==t.ruleForm.protocol_type?a("el-form-item",{attrs:{label:"HTTP方法",prop:"http_method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式"},model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"get",value:"get"}}),t._v(" "),a("el-option",{attrs:{label:"post",value:"post"}}),t._v(" "),a("el-option",{attrs:{label:"put",value:"put"}}),t._v(" "),a("el-option",{attrs:{label:"delete",value:"delete"}}),t._v(" "),a("el-option",{attrs:{label:"header",value:"header"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"协议配置",prop:"protocol_switch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.protocol_switch,callback:function(e){t.$set(t.ruleForm,"protocol_switch",e)},expression:"ruleForm.protocol_switch"}}),t._v(" "),t.ruleForm.protocol_switch?a("protocolConfig",{ref:"protocolConfig",attrs:{active:t.ruleForm.protocol_type,protocolConfig:t.ruleForm.protocol_configuration}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"生效时间",prop:"effective_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.ruleForm.effective_time,callback:function(e){t.$set(t.ruleForm,"effective_time",e)},expression:"ruleForm.effective_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"失效时间",prop:"expiry_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.ruleForm.expiry_time,callback:function(e){t.$set(t.ruleForm,"expiry_time",e)},expression:"ruleForm.expiry_time"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var qt=a("VU/8")(Bt,Rt,!1,function(t){a("aVJ/"),a("pIgt")},"data-v-f87dcdca",null).exports,Mt={name:"",components:{terminalConfig:zt,protocolConfig:jt},data:function(){return{href:ManageIndex,ruleForm:{name:"",description:"",scope:"",destination:"",frequency:0,terminal_switch:!1,protocol_type:"",http_method:"",protocol_switch:!1,effective_time:"",expiry_time:"",protocol_configuration:{},terminal_configuration:{}}}},created:function(){},watch:{},mounted:function(){this.getTaskInfo()},methods:{getTaskInfo:function(){var t=this;this.$get({url:HP1+"/benchmark/timed/task/v1",data:{task_id:this.$route.query.taskId,info_type:"detailed"}}).then(function(e){200==e.data.code&&(t.ruleForm=q()({},e.data.data),t.ruleForm.effective_time=Object(ot.b)(t.ruleForm.effective_time),t.ruleForm.expiry_time=Object(ot.b)(t.ruleForm.expiry_time),t.ruleForm.create_time=Object(ot.b)(t.ruleForm.create_time))})}}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——定时测详情")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/timedTaskList"}}},[t._v("定时测")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"任务名称："}},[a("p",[t._v(t._s(t.ruleForm.name))])]),t._v(" "),a("div",{staticClass:"clear"},[a("el-form-item",{staticClass:"fl",attrs:{label:"任务类型："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.$t(t.ruleForm.scope)))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"协议类型："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.ruleForm.protocol_type))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"监控频率："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.ruleForm.frequency)+"（分）")])])],1),t._v(" "),a("div",{staticClass:"clear"},[a("el-form-item",{staticClass:"fl",attrs:{label:"任务状态："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.$t(t.ruleForm.status)))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"创建时间："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.ruleForm.create_time))])])],1),t._v(" "),a("div",{staticClass:"clear"},[a("el-form-item",{staticClass:"fl",attrs:{label:"生效时间："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.ruleForm.effective_time))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"失效时间："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.ruleForm.expiry_time))])])],1),t._v(" "),a("el-form-item",{attrs:{label:"监控地址："}},[a("p",[t._v(t._s(t.ruleForm.destination))])]),t._v(" "),a("el-form-item",{attrs:{label:"终端配置："}},[a("el-switch",{attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.terminal_switch,callback:function(e){t.$set(t.ruleForm,"terminal_switch",e)},expression:"ruleForm.terminal_switch"}}),t._v(" "),t.ruleForm.terminal_switch?a("terminalConfig",{attrs:{terminalConfig:t.ruleForm.terminal_configuration,disabled:!0}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"协议配置："}},[a("el-switch",{attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ruleForm.protocol_switch,callback:function(e){t.$set(t.ruleForm,"protocol_switch",e)},expression:"ruleForm.protocol_switch"}}),t._v(" "),a("protocolConfig",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.protocol_switch,expression:"ruleForm.protocol_switch"}],attrs:{active:t.ruleForm.protocol_type.toUpperCase(),protocolConfig:t.ruleForm.protocol_configuration,disabled:!0}})],1)],1)],1)},staticRenderFns:[]};var Ut=a("VU/8")(Mt,Vt,!1,function(t){a("m6Vh"),a("KfVI")},"data-v-46ff63ae",null).exports,Wt={name:"timedFilter",props:{taskId:{type:String}},components:{},data:function(){return{type:"all",typeOptions:[{value:"all",label:"全部"},{value:"ping",label:"ping"},{value:"http",label:"http"},{value:"dns",label:"dns"}],taskList:[],task:"",time:[(new Date).setHours(0,0,0),(new Date).getTime()],startTime:"",endTime:"",taskInfo:{},pickerOptions:{shortcuts:[{text:"最近1小时",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-36e5),t.$emit("pick",[a,e])}},{text:"最近6小时",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-216e5),t.$emit("pick",[a,e])}},{text:"最近1天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"最近1周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}}]}}},created:function(){},watch:{time:{handler:function(t,e){this.confirmHandle()},deep:!0}},mounted:function(){this.getTaskList()},methods:{getTaskList:function(t){var e=this;this.$get({url:HP1+"/benchmark/timed/task/select/v1",data:{protocol_type:this.type}}).then(function(a){e.taskList=[],200==a.data.code&&(a.data.info.forEach(function(t,a){e.taskList.push({value:t.id,label:t.name})}),e.taskId?e.task=1==t?e.taskList[0].value:e.taskId:e.task=e.taskList[0].value,e.getTaskInfo(e.task))})},getTaskInfo:function(t){var e=this;this.$get({url:HP1+"/benchmark/timed/task/v1",data:{task_id:t,info_type:"brief"}}).then(function(t){200==t.data.code?(e.taskInfo=q()({},t.data.data),e.$emit("getdata",e.taskInfo)):(e.$emit("getdata",{}),e.$message({type:"error",message:t.data.message})),e.confirmHandle()})},confirmHandle:function(){this.startTime=this.time[0],this.endTime=this.time[1],this.$emit("gettaskdata",{task_id:this.task,start_time:this.startTime,end_time:this.endTime})}}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"optionBox clear",attrs:{id:"timedFilter"}},[a("div",{staticClass:"fl filterOption"},[a("span",[t._v("协议类型：")]),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(e){t.getTaskList(!0)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fl filterOption"},[a("span",[t._v("监测任务：")]),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:t.getTaskInfo},model:{value:t.task,callback:function(e){t.task=e},expression:"task"}},t._l(t.taskList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fl filterOption"},[a("span",[t._v("开始时间：")]),t._v(" "),a("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetimerange",size:"mini","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)])},staticRenderFns:[]};var Qt=a("VU/8")(Wt,Gt,!1,function(t){a("0Ysa"),a("Z5We")},"data-v-a785e300",null).exports,Yt={name:"timedTaskInfo",props:{taskInfo:{type:Object,required:!0,default:{}}},data:function(){return{}},created:function(){},watch:{},mounted:function(){},methods:{}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timedTaskInfo"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"任务名称："}},[a("p",[t._v(t._s(t.taskInfo.name))])]),t._v(" "),a("div",{staticClass:"clear"},[a("el-form-item",{staticClass:"fl",attrs:{label:"任务状态："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.$t(t.taskInfo.status)))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"监控地址："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.taskInfo.destination))])])],1),t._v(" "),a("div",{staticClass:"clear"},[a("el-form-item",{staticClass:"fl",attrs:{label:"协议类型："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.taskInfo.protocol_type))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"监控频率："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.taskInfo.frequency))])]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"创建时间："}},[a("p",{staticClass:"labelItem"},[t._v(t._s(t.taskInfo.create_time))])])],1),t._v(" "),a("el-form-item",{attrs:{label:"任务描述："}},[a("p",{staticClass:"description"},[t._v(t._s(t.taskInfo.description))])])],1)],1)},staticRenderFns:[]};var Jt=a("VU/8")(Yt,Kt,!1,function(t){a("MVpj"),a("AYZy")},"data-v-1ba1158c",null).exports,Xt={name:"timedNav",props:{navData:{type:Array}},data:function(){return{active:0}},created:function(){},mounted:function(){},methods:{tabClick:function(t){this.active=t,this.$emit("handle",t)}}},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navBox"},[a("ul",{staticClass:"navList clear"},t._l(t.navData,function(e,i){return a("li",{key:i,staticClass:"cursor",class:{active:t.active==i},on:{click:function(e){t.tabClick(i)}}},[t._v(t._s(e.name))])}))])},staticRenderFns:[]};var te=a("VU/8")(Xt,Zt,!1,function(t){a("ppTY"),a("VKpz")},"data-v-4275b6ac",null).exports,ee={name:"timedPingAnalysis",props:{active:{type:Number,required:!0,default:0},taskObj:{type:Object,required:!0}},components:{natrixMapChart:rt,natrixLineChart:tt},data:function(){return{packetLossLoading:!0,delayLoading:!0,packetLossTimeLoading:!0,delayTimeLoading:!0,errorTimeLoading:!0,defaultLoading:!0,areaActiveNames:["1","2"],areaTimeNames:["1","2","3"],areaNames:["1"],packetLossRange:{data_map:[{min:10,level:"critical"},{min:.5,max:10,level:"warning"},{min:0,max:.5,level:"fine"},{max:0,level:"excellent"}],precision:2},ping_packetLoss:{title:{text:"PING丢包率（地域分析）"},name:"丢包率",values:[]},pingDelayRange:{data_map:[{min:500,level:"critical"},{min:100,max:500,level:"warning"},{min:50,max:100,level:"fine"},{max:50,level:"excellent"}],precision:2},ping_Delay:{title:{text:"PING延时（地域分析）"},name:"平均时间",values:[]},ping_packetLossTime:{title:{text:"PING丢包率（时间分析）"},xAxisName:"日期",yAxisName:"丢包率(%)",viewpoints:[{values:[],name:""}],"x-axis":[]},ping_DelayTime:{title:{text:"PING时延（时间分析）"},xAxisName:"日期",yAxisName:"时间(ms)",viewpoints:[{values:[],name:""}],"x-axis":[]},ping_ErrorTime:{title:{text:"PING异常（时间分析）"},xAxisName:"日期",yAxisName:"数量(个)",viewpoints:[{values:[],name:""}],"x-axis":[],precision:0},ping_DefaultData:{title:{text:"PING时延分布"},xAxisName:"日期",yAxisName:"数量(个)",viewpoints:[{values:[],name:""}],"x-axis":[],dataZoom:!0,stack:!0,precision:0}}},created:function(){},watch:{},mounted:function(){},methods:{updateInfo:function(t){this.getRegionPacketloss(t),this.getRegionDelay(t),this.getTimePacketloss(t),this.getTimeDelay(t),this.getTimeError(t),this.getDefaultDelay(t)},getRegionPacketloss:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"packet_loss"});return this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.packetLossLoading=!1,e.ping_packetLoss.values=t.data.info.values)})},getRegionDelay:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"delay"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.delayLoading=!1,e.ping_Delay.values=t.data.info.values)})},getTimePacketloss:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"packet_loss"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.packetLossTimeLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.ping_packetLossTime=j()(e.ping_packetLossTime,a)}})},getTimeDelay:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"delay"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.delayTimeLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.ping_DelayTime=j()(e.ping_DelayTime,a)}})},getTimeError:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"exception"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.errorTimeLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.ping_ErrorTime=j()(e.ping_ErrorTime,a)}})},getDefaultDelay:function(t){var e=this,a=q()({},t,{view_point:"comprehensiveness",chart_name:"delay"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.defaultLoading=!1;var a=t.data.info;e.ping_DefaultData=j()(e.ping_DefaultData,a)}})}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.active?a("div",[a("el-collapse",{model:{value:t.areaActiveNames,callback:function(e){t.areaActiveNames=e},expression:"areaActiveNames"}},[a("el-collapse-item",{attrs:{title:"PING丢包（地域分析）",name:"1"}},[a("natrixMapChart",{directives:[{name:"loading",rawName:"v-loading",value:t.packetLossLoading,expression:"packetLossLoading"}],ref:"map",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_packetLoss,chart_style:this.packetLossRange}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping时延（地域分析）",name:"2"}},[a("natrixMapChart",{directives:[{name:"loading",rawName:"v-loading",value:t.delayLoading,expression:"delayLoading"}],ref:"map",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_Delay,chart_style:this.pingDelayRange}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",[a("el-collapse",{model:{value:t.areaTimeNames,callback:function(e){t.areaTimeNames=e},expression:"areaTimeNames"}},[a("el-collapse-item",{attrs:{title:"PING丢包（时间分析）",name:"1"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.packetLossTimeLoading,expression:"packetLossTimeLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_packetLossTime}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping时延（时间分析）",name:"2"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.delayTimeLoading,expression:"delayTimeLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_DelayTime}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"ping异常（时间分析）",name:"3"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.errorTimeLoading,expression:"errorTimeLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_ErrorTime}})],1)],1)],1):t._e(),t._v(" "),2==t.active?a("div",[a("el-collapse",{model:{value:t.areaNames,callback:function(e){t.areaNames=e},expression:"areaNames"}},[a("el-collapse-item",{attrs:{title:"PING时延分布（综合分析）",name:"1"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.defaultLoading,expression:"defaultLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.ping_DefaultData}})],1)],1)],1):t._e()])},staticRenderFns:[]};var ie=a("VU/8")(ee,ae,!1,function(t){a("LDxT"),a("38f5")},"data-v-022ff5bf",null).exports,ne={name:"timedHttpAnalysis",props:{active:{type:Number,default:0},taskObj:{type:Object,required:!0}},components:{natrixMapChart:rt,natrixLineChart:tt,natrixPieChart:pt},data:function(){return{packetLossLoading:!0,parseTimeLoading:!0,delayLoading:!0,errorLoading:!0,requestLoading:!0,stageLoading:!0,packetLossRange:{data_map:[{min:10,level:"critical"},{min:.5,max:10,level:"warning"},{min:0,max:.5,level:"fine"},{max:0,level:"excellent"}],precision:2},http_packetLoss:{title:{text:"HTTP时延（地域分析）"},name:"总时间(ms)",values:[]},areaActiveNames:["1","2"],areaTimeNames:["1","2"],areaDefaultNames:["1","2"],http_parseTime:{title:{text:"HTTP解析时间（地域分析）"},name:"解析时间(ms)",values:[]},http_delay:{title:{text:"HTTP时延（时间分析）"},xAxisName:"日期",yAxisName:"时间(ms)",viewpoints:[{values:[],name:""}],"x-axis":[]},httpError_time:{title:{text:"HTTP异常（时间分析）"},xAxisName:"日期",yAxisName:"数量(个)",viewpoints:[{values:[],name:""}],"x-axis":[],precision:0},http_request:{title:{text:"HTTP请求结果分布"},values:[],precision:0},http_stage:{title:{text:"HTTP请求阶段分析"},values:[]}}},created:function(){},watch:{},mounted:function(){},methods:{updateInfo:function(t){this.getRegionDelay(t),this.getRegionParsetime(t),this.getTimeRequest(t),this.getTimeError(t),this.getDefaultResult(t),this.getDefaultPercent(t)},getRegionDelay:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"request"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code?(e.packetLossLoading=!1,e.http_packetLoss.values=t.data.info.values):e.$message({type:"error",message:t.data.message})})},getRegionParsetime:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"parse_time"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.parseTimeLoading=!1,e.http_parseTime.values=t.data.info.values)})},getTimeRequest:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"request"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.delayLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.http_delay=j()(e.http_delay,a)}})},getTimeError:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"exception"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.errorLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.httpError_time=j()(e.httpError_time,a)}})},getDefaultResult:function(t){var e=this,a=q()({},t,{view_point:"comprehensiveness",chart_name:"result_distribution"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.requestLoading=!1;var a=t.data.info;e.http_request.values=a.values}})},getDefaultPercent:function(t){var e=this,a=q()({},t,{view_point:"comprehensiveness",chart_name:"stage_distribution"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.stageLoading=!1,e.http_stage.values=t.data.info.values)})}}},se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.active?a("div",[a("el-collapse",{model:{value:t.areaActiveNames,callback:function(e){t.areaActiveNames=e},expression:"areaActiveNames"}},[a("el-collapse-item",{attrs:{title:"HTTP时延（地域分析）",name:"1"}},[a("natrixMapChart",{directives:[{name:"loading",rawName:"v-loading",value:t.packetLossLoading,expression:"packetLossLoading"}],ref:"map",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.http_packetLoss,chart_style:this.packetLossRange}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"HTTP解析时间（地域分析）",name:"2"}},[a("natrixMapChart",{directives:[{name:"loading",rawName:"v-loading",value:t.parseTimeLoading,expression:"parseTimeLoading"}],ref:"map",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.http_parseTime,chart_style:this.packetLossRange}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",[a("el-collapse",{model:{value:t.areaTimeNames,callback:function(e){t.areaTimeNames=e},expression:"areaTimeNames"}},[a("el-collapse-item",{attrs:{title:"HTTP时延（时间分析）",name:"1"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.delayLoading,expression:"delayLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.http_delay}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"HTTP异常（时间分析）",name:"2"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.errorLoading,expression:"errorLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.httpError_time}})],1)],1)],1):t._e(),t._v(" "),2==t.active?a("div",[a("el-collapse",{model:{value:t.areaDefaultNames,callback:function(e){t.areaDefaultNames=e},expression:"areaDefaultNames"}},[a("el-collapse-item",{attrs:{title:"HTTP请求结果分布（综合分析）",name:"1"}},[a("natrixPieChart",{directives:[{name:"loading",rawName:"v-loading",value:t.requestLoading,expression:"requestLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.http_request}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"HTTP请求阶段分析（综合分析）",name:"2"}},[a("natrixPieChart",{directives:[{name:"loading",rawName:"v-loading",value:t.stageLoading,expression:"stageLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.http_stage}})],1)],1)],1):t._e()])},staticRenderFns:[]};var re=a("VU/8")(ne,se,!1,function(t){a("OdoU"),a("7q7g")},"data-v-2ac54667",null).exports,oe={name:"timedDnsAnalysis",props:{active:{type:Number,default:0},taskObj:{type:Object,required:!0}},components:{natrixMapChart:rt,natrixLineChart:tt,natrixPieChart:pt},data:function(){return{parsetimeAreaLoading:!0,areadataLoading:!0,parsetimeLoading:!0,errortimeLoading:!0,dns_parsetime_area:{title:{text:"DNS解析时间（地域分析）"},name:"解析时间(ms)",values:[]},packetLossRange:{data_map:[{min:10,level:"critical"},{min:.5,max:10,level:"warning"},{min:0,max:.5,level:"fine"},{max:0,level:"excellent"}],precision:2},dns_areadata:{title:{text:"解析地址地域分布"},values:[]},areaNames:["1","2"],timeNames:["1","2"],dns_parsetime_time:{title:{text:"DNS解析（时间分析）"},xAxisName:"日期",yAxisName:"时间(ms)",viewpoints:[{values:[],name:""}],"x-axis":[]},dns_errortime:{title:{text:"DNS异常（时间分析）"},xAxisName:"日期",yAxisName:"数量(个)",viewpoints:[{values:[],name:""}],"x-axis":[],precision:0},taskInfo:{}}},created:function(){},watch:{},mounted:function(){},methods:{updateInfo:function(t){this.getRegionParsetime(t),this.getRegionDistribute(t),this.getTimeParsetime(t),this.getTimeError(t)},getRegionParsetime:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"parse_time"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.parsetimeAreaLoading=!1,e.dns_parsetime_area.values=t.data.info.values)})},getRegionDistribute:function(t){var e=this,a=q()({},t,{view_point:"region",chart_name:"parse_result"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){200==t.data.code&&(e.areadataLoading=!1,e.dns_areadata.values=t.data.info.values)})},getTimeParsetime:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"parse_time"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.parsetimeLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.dns_parsetime_time=j()(e.dns_parsetime_time,a)}})},getTimeError:function(t){var e=this,a=q()({},t,{view_point:"time",chart_name:"exception"});this.$get({url:HP1+"/benchmark/timed/analyse/v1",data:a}).then(function(t){if(200==t.data.code){e.errortimeLoading=!1;var a=t.data.info,i=[];a["x-axis"].forEach(function(t,e){t=Object(ot.b)(t),i.push(t)}),a["x-axis"]=i,e.dns_errortime=j()(e.dns_errortime,a)}})}}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.active?a("div",[a("el-collapse",{model:{value:t.areaNames,callback:function(e){t.areaNames=e},expression:"areaNames"}},[a("el-collapse-item",{attrs:{title:"DNS解析时间（地域分析）",name:"1"}},[a("natrixMapChart",{directives:[{name:"loading",rawName:"v-loading",value:t.parsetimeAreaLoading,expression:"parsetimeAreaLoading"}],ref:"map",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.dns_parsetime_area,chart_style:this.packetLossRange}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"解析地址地域分布（地域分析）",name:"2"}},[a("natrixPieChart",{directives:[{name:"loading",rawName:"v-loading",value:t.areadataLoading,expression:"areadataLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.dns_areadata}})],1)],1)],1):t._e(),t._v(" "),1==t.active?a("div",[a("el-collapse",{model:{value:t.timeNames,callback:function(e){t.timeNames=e},expression:"timeNames"}},[a("el-collapse-item",{attrs:{title:"DNS解析（时间分析）",name:"1"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.parsetimeLoading,expression:"parsetimeLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.dns_parsetime_time}})],1),t._v(" "),a("el-collapse-item",{attrs:{title:"DNS异常（时间分析）",name:"2"}},[a("natrixLineChart",{directives:[{name:"loading",rawName:"v-loading",value:t.errortimeLoading,expression:"errortimeLoading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",chart_data:t.dns_errortime}})],1)],1)],1):t._e()])},staticRenderFns:[]};var ce={name:"",components:{timedFilter:Qt,timedTaskInfo:Jt,timedNav:te,timedPingAnalysis:ie,timedHttpAnalysis:re,timedDnsAnalysis:a("VU/8")(oe,le,!1,function(t){a("eQGG"),a("4ooE")},"data-v-e853186a",null).exports},data:function(){return{href:ManageIndex,taskInfo:{},active:0,navData:[{name:"地域分析",index:0},{name:"时间分析",index:1},{name:"综合分析",index:2}],type:"",taskObj:{},task:""}},created:function(){},watch:{type:function(t,e){t!=e&&(this.active=0,this.$refs.nav.active=this.active),this.navData="dns"!=t?[{name:"地域分析",index:0},{name:"时间分析",index:1},{name:"综合分析",index:2}]:[{name:"地域分析",index:0},{name:"时间分析",index:1}]}},mounted:function(){this.$route.query.taskId&&(this.task=this.$route.query.taskId)},methods:{getValue:function(t){this.active=t},getInfoData:function(t){"{}"!=B()(t)&&(this.type=t.protocol_type,this.taskInfo=t,this.taskInfo.create_time=Object(ot.b)(this.taskInfo.create_time))},gettaskParam:function(t){var e=this;this.taskObj=t,this.$nextTick(function(a){switch(e.type){case"ping":e.$refs.timedPing.updateInfo(t);break;case"http":e.$refs.timedHttp.updateInfo(t);break;case"dns":e.$refs.timedDns.updateInfo(t)}})}}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——任务分析")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("定时测")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/timedAnalysis"}}},[t._v("任务分析")])],1)],1),t._v(" "),a("timedFilter",{ref:"filter",attrs:{taskId:t.task},on:{getdata:t.getInfoData,gettaskdata:t.gettaskParam}}),t._v(" "),a("timedTaskInfo",{attrs:{taskInfo:t.taskInfo}}),t._v(" "),a("div",{attrs:{id:"navBox"}},[a("timedNav",{ref:"nav",attrs:{navData:t.navData},on:{handle:t.getValue}})],1),t._v(" "),a("div",{attrs:{id:"timedContent"}},["ping"==t.type?a("timedPingAnalysis",{ref:"timedPing",attrs:{active:t.active,taskObj:t.taskObj}}):t._e(),t._v(" "),"http"==t.type?a("timedHttpAnalysis",{ref:"timedHttp",attrs:{active:t.active,taskObj:t.taskObj}}):t._e(),t._v(" "),"dns"==t.type?a("timedDnsAnalysis",{ref:"timedDns",attrs:{active:t.active,taskObj:t.taskObj}}):t._e()],1)],1)},staticRenderFns:[]};var de=a("VU/8")(ce,ue,!1,function(t){a("GjZr"),a("knJK")},"data-v-523a131d",null).exports,me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"添加通知",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form,size:"mini",rules:t.rules,"label-width":"75px"}},[a("el-form-item",{attrs:{label:"告警规则"}},[a("p",[t._v("告警规告警规则告警规则则")])]),t._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",size:"mini"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"通知方式"}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择通知方式"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[a("el-option",{attrs:{label:"邮件",value:"email"}}),t._v(" "),a("el-option",{attrs:{label:"短信",value:"sms"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"通知用户"}},[a("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择通知方式"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[a("el-option",{attrs:{label:"用户1",value:"用户1"}}),t._v(" "),a("el-option",{attrs:{label:"用户2",value:"用户2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"恢复通知"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"通知频率"}},[a("el-input",{attrs:{placeholder:"请输入频率",size:"mini"},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",t._n(e))},expression:"form.input"}}),t._v("(s)\n            ")],1),t._v(" "),a("el-form-item",{attrs:{label:"通知时间"}},[a("el-time-picker",{attrs:{"is-range":"",format:"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer submitBox",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var pe=a("VU/8")({name:"noticeDialog",components:{},data:function(){return{dialogFormVisible:!0,form:{},rules:{}}},created:function(){},watch:{},mounted:function(){},methods:{}},me,!1,function(t){a("/dK6"),a("pqaY")},"data-v-def8b90e",null).exports,he={name:"",components:{page:h.a,noticeDialog:pe},data:function(){return{href:ManageIndex,tableData:[],page_Count:1,pageNum:1,pageShow:!0,currentPageNum:1,item_count:0}},created:function(){},watch:{},mounted:function(){},methods:{pageChangeHandle:function(t){},gotoAddTask:function(){},gotoTaskInfo:function(t){},handleEdit:function(t,e){},handleDel:function(t,e){},deleteHandle:function(t){},turnOnHandle:function(t,e){},turnOffHandle:function(t,e){}}},ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——告警列表")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("告警中心")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/alarmList"}}},[t._v("告警列表")])],1)],1),t._v(" "),a("div",{staticClass:"optionBox clear"},[a("div",{staticClass:"fl"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.gotoAddTask}},[t._v("创建告警")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"告警名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"detailColor cursor",on:{click:function(a){t.gotoTaskInfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"scope",label:"定时测任务",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"detailColor cursor",on:{click:function(a){t.gotoTaskInfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"protocol_type",width:"100",label:"指标项"}}),t._v(" "),a("el-table-column",{attrs:{width:"60",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["running"==e.row.status?a("span",{staticClass:"statusBtn successBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"expired"==e.row.status?a("span",{staticClass:"statusBtn defaultBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"stoped"==e.row.status?a("span",{staticClass:"statusBtn errorBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"effective_time",width:"120",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"effective_time",width:"120",label:"告警通知"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.editShow,expression:"scope.row.editShow"}],attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.onShow,expression:"scope.row.onShow"}],attrs:{size:"mini",type:"success"},on:{click:function(a){t.turnOnHandle(e.$index,e.row)}}},[t._v("开启")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.offShow,expression:"scope.row.offShow"}],attrs:{size:"mini",type:"off"},on:{click:function(a){t.turnOffHandle(e.$index,e.row)}}},[t._v("暂停")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.deleteShow,expression:"scope.row.deleteShow"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],ref:"page",attrs:{pageCount:t.page_Count,item_count:t.item_count,currentPage:t.currentPageNum},on:{"page-change":t.pageChangeHandle}}),t._v(" "),a("noticeDialog")],1)},staticRenderFns:[]};var fe=a("VU/8")(he,ve,!1,function(t){a("VsAw"),a("3Rrv")},"data-v-7d1fdce8",null).exports,ge={name:"",components:{},data:function(){return{href:ManageIndex,ruleForm:{},rules:{}}},created:function(){},watch:{},mounted:function(){},methods:{pageChangeHandle:function(t){},gotoAddTask:function(){},gotoTaskInfo:function(t){},handleEdit:function(t,e){},handleDel:function(t,e){},deleteHandle:function(t){},turnOnHandle:function(t,e){},turnOffHandle:function(t,e){}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——添加告警")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("告警中心")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/alarmList"}}},[t._v("告警列表")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"告警名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"告警描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"协议类型",prop:"http_method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式"},model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),t._v(" "),a("el-option",{attrs:{label:"ping",value:"ping"}}),t._v(" "),a("el-option",{attrs:{label:"http",value:"http"}}),t._v(" "),a("el-option",{attrs:{label:"dns",value:"dns"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"任务选择",prop:""}},[a("el-select",{attrs:{placeholder:"请选择请求方式"},model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"任务描述"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"指标项"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}})],1)],1),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"判断操作"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"大于",value:"gt"}}),t._v(" "),a("el-option",{attrs:{label:"小于",value:"lt"}}),t._v(" "),a("el-option",{attrs:{label:"等于",value:"eq"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"阈值"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",t._n(e))},expression:"ruleForm.description"}})],1)],1),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"聚合条件"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"均值",value:"average"}}),t._v(" "),a("el-option",{attrs:{label:"个体",value:"individuality"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"超过（聚合条件）"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",t._n(e))},expression:"ruleForm.description"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"submitBox"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var be=a("VU/8")(ge,_e,!1,function(t){a("sN4z"),a("bcFK")},"data-v-7d570480",null).exports,ke={name:"",components:{},data:function(){return{href:ManageIndex,ruleForm:{},rules:{}}},created:function(){},watch:{},mounted:function(){},methods:{pageChangeHandle:function(t){},gotoAddTask:function(){},gotoTaskInfo:function(t){},handleEdit:function(t,e){},handleDel:function(t,e){},deleteHandle:function(t){},turnOnHandle:function(t,e){},turnOffHandle:function(t,e){}}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——告警编辑")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("告警中心")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/alarmList"}}},[t._v("告警列表")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"告警名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"告警描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"任务选择"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"任务描述"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"指标项"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}}),t._v(" "),a("el-option",{attrs:{label:"任务1",value:"任务1"}})],1)],1),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"判断操作"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"大于",value:"gt"}}),t._v(" "),a("el-option",{attrs:{label:"小于",value:"lt"}}),t._v(" "),a("el-option",{attrs:{label:"等于",value:"eq"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"阈值"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",t._n(e))},expression:"ruleForm.description"}})],1)],1),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"聚合条件"}},[a("el-select",{model:{value:t.ruleForm.http_method,callback:function(e){t.$set(t.ruleForm,"http_method",e)},expression:"ruleForm.http_method"}},[a("el-option",{attrs:{label:"均值",value:"average"}}),t._v(" "),a("el-option",{attrs:{label:"个体",value:"individuality"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"超过（聚合条件）"}},[a("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",t._n(e))},expression:"ruleForm.description"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"submitBox"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var xe=a("VU/8")(ke,we,!1,function(t){a("/V3O"),a("z1Fo")},"data-v-58aeed5a",null).exports,ye={name:"",components:{},data:function(){return{href:ManageIndex,ruleForm:{},rules:{}}},created:function(){},watch:{},mounted:function(){},methods:{}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——告警详情")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("告警中心")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/alarmList"}}},[t._v("告警列表")])],1)],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"140px"}},[a("el-form-item",{attrs:{label:"告警名称",prop:"name"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"告警描述",prop:"description"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"任务选择",prop:""}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"任务描述"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("el-form-item",{attrs:{label:"指标项"}},[a("p",[t._v("任务描述任务描述任务描述任务描述任务描述任务描述")])]),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"判断操作"}},[a("p")]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"阈值"}},[a("p")])],1),t._v(" "),a("div",{staticClass:"clear judge"},[a("el-form-item",{staticClass:"fl",attrs:{label:"聚合条件"}},[a("p")]),t._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"超过（聚合条件）"}},[a("p")])],1)],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(ye,Ce,!1,function(t){a("f2zu"),a("ojei")},"data-v-03d4f694",null).exports,Te={name:"",components:{page:h.a,noticeDialog:pe},data:function(){return{href:ManageIndex,tableData:[],page_Count:1,pageNum:1,pageShow:!0,currentPageNum:1,item_count:0}},created:function(){},watch:{},mounted:function(){},methods:{pageChangeHandle:function(t){},gotoAddTask:function(){},gotoTaskInfo:function(t){},handleEdit:function(t,e){},handleDel:function(t,e){},deleteHandle:function(t){},turnOnHandle:function(t,e){},turnOffHandle:function(t,e){}}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"title"},[t._v("云拨测——通知列表")]),t._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("a",{staticClass:"home",attrs:{href:t.href}},[t._v("云拨测"),a("i",{staticClass:"el-breadcrumb__separator el-icon-arrow-right"})]),t._v(" "),a("el-breadcrumb-item",[t._v("告警中心")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/alarmList"}}},[t._v("告警列表")])],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"optionBox clear"},[a("div",{staticClass:"fl"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.gotoAddTask}},[t._v("创建通知")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"detailColor cursor",on:{click:function(a){t.gotoTaskInfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"scope",label:"描述",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"protocol_type",width:"100",label:"用户列表"}}),t._v(" "),a("el-table-column",{attrs:{width:"60",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["running"==e.row.status?a("span",{staticClass:"statusBtn successBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"expired"==e.row.status?a("span",{staticClass:"statusBtn defaultBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e(),t._v(" "),"stoped"==e.row.status?a("span",{staticClass:"statusBtn errorBk"},[t._v(t._s(t.$t(e.row.status)))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"effective_time",width:"120",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.editShow,expression:"scope.row.editShow"}],attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.onShow,expression:"scope.row.onShow"}],attrs:{size:"mini",type:"success"},on:{click:function(a){t.turnOnHandle(e.$index,e.row)}}},[t._v("开启")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.offShow,expression:"scope.row.offShow"}],attrs:{size:"mini",type:"off"},on:{click:function(a){t.turnOffHandle(e.$index,e.row)}}},[t._v("暂停")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.deleteShow,expression:"scope.row.deleteShow"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],ref:"page",attrs:{pageCount:t.page_Count,item_count:t.item_count,currentPage:t.currentPageNum},on:{"page-change":t.pageChangeHandle}}),t._v(" "),a("noticeDialog")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"subTitle"}},[e("p",[this._v("告警名称告警名称")])])}]};var De=[{path:"/login",name:"login",component:function(){return a.e(5).then(a.bind(null,"cWB/"))}},{path:"/register",name:"register",component:function(){return a.e(2).then(a.bind(null,"0VkS"))}},{path:"/terminalOverview",name:"terminalOverview",component:D,meta:{requireAuth:!0}},{path:"/terminalList",name:"terminalList",component:function(){return a.e(7).then(a.bind(null,"kaDX"))},meta:{requireAuth:!0}},{path:"/terminalDetail",name:"terminalDetail",component:function(){return a.e(8).then(a.bind(null,"XT76"))},meta:{requireAuth:!0}},{path:"/terminalSite",name:"terminalSite",component:function(){return a.e(10).then(a.bind(null,"kyzu"))},meta:{requireAuth:!0}},{path:"/editTerminal",name:"editTerminal",component:function(){return a.e(4).then(a.bind(null,"oltU"))},meta:{requireAuth:!0}},{path:"/terminalCheckList",name:"terminalCheckList",component:function(){return a.e(9).then(a.bind(null,"aBIn"))},meta:{requireAuth:!0}},{path:"/workInfoManage",name:"workInfoManage",component:P,meta:{requireAuth:!0}},{path:"/addWorkInfo",name:"addWorkInfo",component:function(){return a.e(6).then(a.bind(null,"kXAR"))},meta:{requireAuth:!0}},{path:"/workDetail",name:"workDetail",component:function(){return a.e(1).then(a.bind(null,"DWeA"))},meta:{requireAuth:!0}},{path:"/editWorkInfo",name:"editWorkInfo",component:function(){return a.e(12).then(a.bind(null,"oVfq"))},meta:{requireAuth:!0}},{path:"/monitorDeviceDetail",name:"monitorDeviceDetail",component:function(){return a.e(0).then(a.bind(null,"UVAk"))},meta:{requireAuth:!0}},{path:"/monitorSiteDetail",name:"monitorSiteDetail",component:function(){return a.e(11).then(a.bind(null,"7q1n"))},meta:{requireAuth:!0}},{path:"/broadBandDetail",name:"broadBandDetail",component:function(){return a.e(3).then(a.bind(null,"kVJU"))},meta:{requireAuth:!0}},{path:"/pingAnalysis",name:"pingAnalysis",component:ut},{path:"/httpAnalysis",name:"httpAnalysis",component:ft},{path:"/tracerouteAnalysis",name:"tracerouteAnalysis",component:bt},{path:"/dnsAnalysis",name:"dnsAnalysis",component:xt},{path:"/timedTaskList",name:"timedTaskList",component:At,meta:{requireAuth:!0}},{path:"/focusTask",name:"focusTask",component:Dt,meta:{requireAuth:!0}},{path:"/addTask",name:"addTask",component:Ht,meta:{requireAuth:!0}},{path:"/editTask",name:"editTask",component:qt,meta:{requireAuth:!0}},{path:"/taskInfo",name:"taskInfo",component:Ut,meta:{requireAuth:!0}},{path:"/timedAnalysis",name:"timedAnalysis",component:de,meta:{requireAuth:!0}},{path:"/alarmList",name:"alarmList",component:fe,meta:{requireAuth:!0}},{path:"/addAlarm",name:"addAlarm",component:be,meta:{requireAuth:!0}},{path:"/editAlarm",name:"editAlarm",component:xe,meta:{requireAuth:!0}},{path:"/alarmInfo",name:"alarmInfo",component:Ae,meta:{requireAuth:!0}},{path:"/noticeList",name:"noticeList",component:a("VU/8")(Te,Ie,!1,function(t){a("ymyz"),a("UpqP")},"data-v-ec2f53b8",null).exports,meta:{requireAuth:!0}}],Ne=a("/ocq");i.default.use(Ne.a);var Oe=new Ne.a({routes:De}),Fe=a("zL8q"),Le=a.n(Fe),ze=(a("tvR6"),a("mtWM")),Pe=a.n(ze),Se=a("XLwt"),je=a.n(Se),Ee=(a("tcAE"),a("nUSl"),a("Bhwq"),a("TXmL"));i.default.use(Ee.a);var $e=new Ee.a({locale:"zh",messages:{zh:a("QJH3")},silentTranslationWarn:!0}),He=a("2Pnh"),Be=a.n(He),Re=a("l9mu"),qe=a.n(Re),Me={install:function(t,e){t.prototype.getPdf=function(){var t=this.htmlTitle,e=this,a=document.querySelector("#pdfDom");Be()(a,{allowTaint:!1,taintTest:!1,onclone:function(t){var a=document.createElement("h4");a.innerText=e.pdfTitle;var i=t.getElementsByClassName("lineBox")[0];t.getElementById("pdfDom").insertBefore(a,i),a.style="font-size:18px;line-height:30px;margin:10px 0;text-align:center;"}}).then(function(e){var a=e.width,i=e.height,n=592.28/a*i,s=e.toDataURL("image/jpeg",1),r=new qe.a("","pt",[592.28,n]);r.addImage(s,"JPEG",0,0,592.28,n),r.save(t+".pdf")})}}},Ve=a("//Fk"),Ue=a.n(Ve),We=a("mw3O"),Ge=a.n(We);Pe.a.defaults.withCredentials=!0;var Qe={};Pe.a.interceptors.request.use(function(t){return t},function(t){return Ue.a.reject(t)});var Ye=function(t){var e=localStorage.getItem(t);return null!==e?e:""};i.default.prototype.$echarts=je.a,i.default.config.productionTip=!1,i.default.use(Le.a),i.default.use(Ee.a),i.default.use(Me),i.default.prototype.$http=Pe.a,i.default.prototype.$post=function(t){var e=t.url,a=t.data,i=void 0===a?{}:a;return Pe.a.post(e,i,Qe).then(function(t){if(200==t.status)return t.data.permission?t.data:(Xe.$message.error("您当前尚未登录，请先登录查看"),window.location.href=NatrixIndex,!1)}).catch(function(t){})},i.default.prototype.$get=function(t){var e=t.url,a=t.data,i=void 0===a?{}:a;return Pe.a.get(e,{params:i,paramsSerializer:function(t){return Ge.a.stringify(t,{arrayFormat:"repeat"})}}).then(function(t){if(200===t.status)return t.data.permission?t.data:(Xe.$message.error("您当前尚未登录，请先登录查看"),window.location.href=NatrixIndex,!1)}).catch(function(t){})},i.default.prototype.$get_no=function(t){var e=t.url,a=t.data,i=void 0===a?{}:a;return Pe.a.get(e,{params:i,paramsSerializer:function(t){return Ge.a.stringify(t,{arrayFormat:"repeat"})}}).then(function(t){if(200===t.status)return t.data}).catch(function(t){})},i.default.prototype.$put=function(t){var e=t.url,a=t.data,i=void 0===a?{}:a;return Pe.a.put(e,i,Qe).then(function(t){if(200==t.status)return t.data.permission?t.data:(window.location.href=NatrixIndex,!1)}).catch(function(t){})},i.default.prototype.$delete=function(t){var e=t.url,a=t.data,i=void 0===a?{}:a;return Pe.a.delete(e,{params:i}).then(function(t){if(200===t.status)return t.data.permission?t.data:(Xe.$message.error("您当前尚未登录，请先登录查看"),window.location.href=NatrixIndex,!1)}).catch(function(t){})};var Ke=Ye("user");Oe.beforeEach(function(t,e,a){if(t.meta.requireAuth)if(""!=Ke)a();else{if("login"===t.name)return void a();a({path:"/login",query:{redirect:t.fullPath}})}else a()});var Je=new i.default({el:"#app",router:Oe,i18n:$e,components:{App:p},template:"<App/>"}),Xe=e.default=Je},NpeY:function(t,e){},OdoU:function(t,e){},Q7sU:function(t,e){},QJH3:function(t,e){t.exports={1408:"终端接收超时",2408:"终端处理超时",running:"运行",expired:"过期",stoped:"关闭",private:"私有",public:"公共",exception:"异常",packet_loss:"丢包率",delay:"延时",min_value:"最小值",max_value:"最大值",avg_value:"平均值","ping packet_loss region analyse":"PING丢包率（地域分析）","ping delay region analyse":"PING延时（地域分析）","ping packet_loss org analyse":"PING丢包率（组织分析）","ping delay org analyse":"PING延时（组织分析）","ping delay distribution org analyse":"PING延时时间段分布","ping delay top org analyse":"PING延时TOP（组织分析）",total_time:"总时间",namelookup_time:"解析时间",tcp_connect_time:"TCP连接时间",period_nslookup:"解析阶段",period_tcp_connect:"TCP连接阶段",period_ssl_connect:"SSL连接阶段",period_request:"请求阶段",period_response:"响应阶段",period_transfer:"传输阶段","http request region analyse":"HTTP请求（地域分析）","http request org analyse":"HTTP延时（组织分析）","http request distribution org analyse":"HTTP请求时间段分布","http result distribution analyse":"HTTP请求结果分布","http request stage distribution analyse":"HTTP连接性能分布",parse_time:"解析时间","dns parse_time region analyse":"DNS解析时间（地域分析）","dns parse_result region distribution":"DNS解析结果地域分布","dns parse top region analyse":"DNS解析TOP10（地域分析）","dns parse_time org analyse":"DNS解析时间（组织分析）","dns parse_time distribution org analyse":"DNS解析时间分布（组织分析）","dns parse_time top org analyse":"DNS解析时间TOP(组织分析)",active:"激活态",maintain:"维护态",posting:"邮寄态",wired:"有线",wireless:"无线","4G":"4G",other:"其他",basic:"基本",advance:"高级"}},TReZ:function(t,e){},UpqP:function(t,e){},VKpz:function(t,e){},VsAw:function(t,e){},WlKC:function(t,e){},"Ws+I":function(t,e,a){"use strict";e.c=function(t){var e=t.indexOf("T"),a=t.indexOf("."),i=t.substr(0,e),n=t.substr(e+1,a-e-1),s=i+" "+n,r=1e3*(28800+(r=(r=(r=new Date(Date.parse(s))).getTime())/1e3));return r},e.b=function(t){var e=new Date(t),a="",i=void 0,n=void 0,s=void 0,r=void 0,o=void 0,l=void 0;i=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),r=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),n<10&&(n="0"+n);s<10&&(s="0"+s);r<10&&(r="0"+r);o<10&&(o="0"+o);l<10&&(l="0"+l);return a+=i+"-"+n+"-"+s+" "+r+":"+o+":"+l},e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toFixed(e)};var i=a("pFYg");a.n(i);Date.prototype.toMyStr=function(){var t=void 0,e=void 0,a=void 0,i=void 0,n=void 0;return t=this.getMonth()+1,e=this.getDate(),a=this.getHours(),i=this.getMinutes(),n=this.getSeconds(),this.getMonth()+1<10&&(t="0"+t),this.getDate()<10&&(e="0"+e),this.getHours()<10&&(a="0"+a),this.getMinutes()<10&&(i="0"+i),this.getSeconds()<10&&(n="0"+n),this.getFullYear()+"-"+t+"-"+e+" "+a+":"+i+":"+n},Date.prototype.toMyTime=function(){var t=void 0,e=void 0;return t=this.getMonth()+1,e=this.getDate(),this.getMonth()+1<10&&(t="0"+t),this.getDate()<10&&(e="0"+e),this.getFullYear()+"-"+t+"-"+e},Date.prototype.timeStamp=function(t){var e=new Date(t),a="";return a+=e.getFullYear()+(e.getMonth()+1)+e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),a}},Z5We:function(t,e){},Zi7I:function(t,e){},"aVJ/":function(t,e){},am6W:function(t,e){},bHwv:function(t,e){},bcFK:function(t,e){},cMIA:function(t,e){},cysj:function(t,e){},eQGG:function(t,e){},eRRr:function(t,e){},f2zu:function(t,e){},fP6R:function(t,e){},hMN7:function(t,e){},js5j:function(t,e,a){"use strict";var i={name:"page",props:{pageCount:{type:Number,default:1},currentPageNum:{type:Number,default:1},item_count:{type:Number,default:0}},data:function(){return{currentPage:this.currentPageNum}},watch:{pageCount:function(t,e){this.currentPage=1,this.pageCount=t}},created:function(){},mounted:function(){},methods:{currentPageHandle:function(t){this.currentPage=t,this.$emit("page-change",t)},prevClick:function(t){},nextClick:function(t){}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageBox"},[a("p",{staticClass:"fl totalNum"},[t._v("共"),a("span",[t._v(t._s(t.item_count))]),t._v("条记录")]),t._v(" "),a("el-pagination",{staticClass:"fr",attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-count":t.pageCount},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.currentPageHandle,"prev-click":t.prevClick,"next-click":t.nextClick}})],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("+MR7")},"data-v-6f676f92",null);e.a=s.exports},kmVD:function(t,e){},knJK:function(t,e){},ls8B:function(t,e){},m6Vh:function(t,e){},nr5C:function(t,e){},ojei:function(t,e){},pIgt:function(t,e){},ppTY:function(t,e){},pqaY:function(t,e){},r93L:function(t,e){},sN4z:function(t,e){},tvR6:function(t,e){},uoz7:function(t,e){},vg9S:function(t,e){},xVrp:function(t,e){},ymyz:function(t,e){},yvBk:function(t,e){},z1Fo:function(t,e){},z7WM:function(t,e){},zkGO:function(t,e){}},["NHnr"]);